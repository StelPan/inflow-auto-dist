import{s as me}from"./badge.esm-cbb8631f.js";import{s as he}from"./progressspinner.esm-2138ab26.js";import{b as k,m as y,s as ie,f as E,x as Z,p as l,g as O,j as t,c as o,y as W,A as J,k as Q,t as n,q as B,h as e,B as _,a as C,r as T,_ as I,d as U,o as q,F as N,z as _e}from"./_plugin-vue_export-helper-4e0f1051.js";import{u as S}from"./vue-router-e112b3e0.js";import{c as x}from"./Numbers-ee6ad433.js";import{p as ge,a as K,b as de,c as re,d as we,e as be,g as $e,h as H,i as ye,j as De,k as Ce,l as Ee,m as Oe}from"./principalDeals-5bcfc342.js";import{u as X}from"./Api-3d31057e.js";import{s as M}from"./button.esm-48574c78.js";import{s as pe}from"./inputswitch.esm-79249e3b.js";import{s as z}from"./card.esm-90d7995a.js";import{F as je}from"./focustrap.esm-4326017e.js";import{s as ke}from"./portal.esm-58de97e7.js";import{Z as ee,D as F,U as ae,R as Be}from"./ripple.esm-2bb5fa45.js";import{T as Fe}from"./runtime-dom.esm-bundler-b3385430.js";import{F as G}from"./FormInput-a7191b54.js";import{A as ce}from"./index.es-55ebbfbf.js";import{F as fe}from"./FormLayout-5c19cd5a.js";import{F as ve}from"./FormCheckbox-4e6c5f6d.js";import"./dayjs.min-18f6db6c.js";import"./Cookies-c25692b0.js";import"./DateTime-6dd15e58.js";import"./inputnumber.esm-b284c98e.js";import"./FormItem-83c2c2c1.js";import"./checkbox.esm-31a5a5c8.js";var oe={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:String,default:"body"},closeIcon:{type:String,default:"pi pi-times"},maximizeIcon:{type:String,default:"pi pi-window-maximize"},minimizeIcon:{type:String,default:"pi pi-window-minimize"},closeButtonProps:{type:null,default:null},_instance:null},provide(){return{dialogRef:k(()=>this._instance)}},data(){return{containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&ee.clear(this.mask),this.container=null,this.mask=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(s){s.setAttribute(this.attributeSelector,"")},onEnter(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&ee.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave(){this.modal&&F.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave(){this.autoZIndex&&ee.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick(s){this.dismissableMask&&this.modal&&this.mask===s.target&&this.close()},focus(){const s=v=>v.querySelector("[autofocus]");let u=this.$slots.footer&&s(this.footerContainer);u||(u=this.$slots.header&&s(this.headerContainer),u||(u=this.$slots.default&&s(this.content),u||(this.maximizable?(this.focusableMax=!0,u=this.maximizableButton):(this.focusableClose=!0,u=this.closeButton)))),u&&F.focus(u)},maximize(s){this.maximized?(this.maximized=!1,this.$emit("unmaximize",s)):(this.maximized=!0,this.$emit("maximize",s)),this.modal||(this.maximized?F.addClass(document.body,"p-overflow-hidden"):F.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&F.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&F.removeClass(document.body,"p-overflow-hidden")},onKeyDown(s){s.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const u=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(v=>v===this.position);return u?`p-dialog-${u}`:""},containerRef(s){this.container=s},maskRef(s){this.mask=s},contentRef(s){this.content=s},headerContainerRef(s){this.headerContainer=s},footerContainerRef(s){this.footerContainer=s},maximizableRef(s){this.maximizableButton=s},closeButtonRef(s){this.closeButton=s},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let s="";for(let u in this.breakpoints)s+=`
                        @media screen and (max-width: ${u}) {
                            .p-dialog[${this.attributeSelector}] {
                                width: ${this.breakpoints[u]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=s}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(s){F.hasClass(s.target,"p-dialog-header-icon")||F.hasClass(s.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=s.pageX,this.lastPageY=s.pageY,this.container.style.margin="0",F.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=s=>{if(this.dragging){let u=F.getOuterWidth(this.container),v=F.getOuterHeight(this.container),m=s.pageX-this.lastPageX,h=s.pageY-this.lastPageY,f=this.container.getBoundingClientRect(),a=f.left+m,w=f.top+h,g=F.getViewport();this.container.style.position="fixed",this.keepInViewport?(a>=this.minX&&a+u<g.width&&(this.lastPageX=s.pageX,this.container.style.left=a+"px"),w>=this.minY&&w+v<g.height&&(this.lastPageY=s.pageY,this.container.style.top=w+"px")):(this.lastPageX=s.pageX,this.container.style.left=a+"px",this.lastPageY=s.pageY,this.container.style.top=w+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=s=>{this.dragging&&(this.dragging=!1,F.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",s))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},maximizeIconClass(){return["p-dialog-header-maximize-icon",{[this.maximizeIcon]:!this.maximized,[this.minimizeIcon]:this.maximized}]},ariaId(){return ae()},ariaLabelledById(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.ariaId+"_header":null},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector(){return ae()},contentStyleClass(){return["p-dialog-content",this.contentClass]}},directives:{ripple:Be,focustrap:je},components:{Portal:ke}};const Ie=["aria-labelledby","aria-modal"],Se=["id"],Ae={class:"p-dialog-header-icons"},Me=["autofocus","tabindex"],Le=["autofocus","aria-label"];function Ue(s,u,v,m,h,f){const a=y("Portal"),w=ie("ripple"),g=ie("focustrap");return E(),Z(a,{appendTo:v.appendTo},{default:l(()=>[h.containerVisible?(E(),O("div",{key:0,ref:f.maskRef,class:t(f.maskClass),onClick:u[3]||(u[3]=(...i)=>f.onMaskClick&&f.onMaskClick(...i))},[o(Fe,{name:"p-dialog",onBeforeEnter:f.onBeforeEnter,onEnter:f.onEnter,onBeforeLeave:f.onBeforeLeave,onLeave:f.onLeave,onAfterLeave:f.onAfterLeave,appear:""},{default:l(()=>[v.visible?W((E(),O("div",J({key:0,ref:f.containerRef,class:f.dialogClass,role:"dialog","aria-labelledby":f.ariaLabelledById,"aria-modal":v.modal},s.$attrs),[v.showHeader?(E(),O("div",{key:0,ref:f.headerContainerRef,class:"p-dialog-header",onMousedown:u[2]||(u[2]=(...i)=>f.initDrag&&f.initDrag(...i))},[Q(s.$slots,"header",{},()=>[v.header?(E(),O("span",{key:0,id:f.ariaLabelledById,class:"p-dialog-title"},n(v.header),9,Se)):B("",!0)]),e("div",Ae,[v.maximizable?W((E(),O("button",{key:0,ref:f.maximizableRef,autofocus:h.focusableMax,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:u[0]||(u[0]=(...i)=>f.maximize&&f.maximize(...i)),type:"button",tabindex:v.maximizable?"0":"-1"},[e("span",{class:t(f.maximizeIconClass)},null,2)],8,Me)),[[w]]):B("",!0),v.closable?W((E(),O("button",J({key:1,ref:f.closeButtonRef,autofocus:h.focusableClose,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:u[1]||(u[1]=(...i)=>f.close&&f.close(...i)),"aria-label":f.closeAriaLabel,type:"button"},v.closeButtonProps),[e("span",{class:t(["p-dialog-header-close-icon",v.closeIcon])},null,2)],16,Le)),[[w]]):B("",!0)])],544)):B("",!0),e("div",J({ref:f.contentRef,class:f.contentStyleClass,style:v.contentStyle},v.contentProps),[Q(s.$slots,"default")],16),v.footer||s.$slots.footer?(E(),O("div",{key:1,ref:f.footerContainerRef,class:"p-dialog-footer"},[Q(s.$slots,"footer",{},()=>[_(n(v.footer),1)])],512)):B("",!0)],16,Ie)),[[g,{disabled:!v.modal}]]):B("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):B("",!0)]),_:3},8,["appendTo"])}function xe(s,u){u===void 0&&(u={});var v=u.insertAt;if(!(!s||typeof document=="undefined")){var m=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.type="text/css",v==="top"&&m.firstChild?m.insertBefore(h,m.firstChild):m.appendChild(h),h.styleSheet?h.styleSheet.cssText=s:h.appendChild(document.createTextNode(s))}}var ze=`
.p-dialog-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    pointer-events: none;
}
.p-dialog-mask.p-component-overlay {
    pointer-events: auto;
}
.p-dialog {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    max-height: 90%;
    transform: scale(1);
}
.p-dialog-content {
    overflow-y: auto;
}
.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}
.p-dialog-footer {
    flex-shrink: 0;
}
.p-dialog .p-dialog-header-icons {
    display: flex;
    align-items: center;
}
.p-dialog .p-dialog-header-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Fluid */
.p-fluid .p-dialog-footer .p-button {
    width: auto;
}

/* Animation */
/* Center */
.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

/* Top, Bottom, Left, Right, Top* and Bottom* */
.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}
.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}
.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}
.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}
.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}
.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

/* Maximize */
.p-dialog-maximized {
    -webkit-transition: none;
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
}
.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}

/* Position */
.p-dialog-left {
    justify-content: flex-start;
}
.p-dialog-right {
    justify-content: flex-end;
}
.p-dialog-top {
    align-items: flex-start;
}
.p-dialog-topleft {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-dialog-topright {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-dialog-bottom {
    align-items: flex-end;
}
.p-dialog-bottomleft {
    justify-content: flex-start;
    align-items: flex-end;
}
.p-dialog-bottomright {
    justify-content: flex-end;
    align-items: flex-end;
}
.p-confirm-dialog .p-dialog-content {
    display: flex;
    align-items: center;
}
`;xe(ze);oe.render=Ue;const Ve={components:{FormInput:G,Dialog:oe,Button:M},props:{isShowConfirm:Boolean,callback:Function},setup(s,u){const v=C(),m=C(),h=T({}),a=S().params.dealID;return{cancellation_reason:m,errors:h,isSaving:v,handleCanceled:async()=>{v.value=!0,(await ge(a,m.value)).success,v.value=!1}}}},Ne=e("i",{class:"text-red-500"},"*",-1);function Re(s,u,v,m,h,f){const a=y("FormInput"),w=y("Button"),g=y("Dialog");return E(),Z(g,{visible:s.$props.isShowConfirm,"onUpdate:visible":u[1]||(u[1]=i=>s.$props.isShowConfirm=i),modal:"",header:"Отмена сделки",style:{width:"30vw"}},{footer:l(()=>[o(w,{label:"Нет",icon:"pi pi-times",onClick:s.$props.callback,text:""},null,8,["onClick"]),o(w,{label:"Да",icon:"pi pi-check",onClick:m.handleCanceled,autofocus:"",loading:m.isSaving,disabled:!m.cancellation_reason},null,8,["onClick","loading","disabled"])]),default:l(()=>[o(a,{type:"text",name:"cancellation_reason",modelValue:m.cancellation_reason,"onUpdate:modelValue":u[0]||(u[0]=i=>m.cancellation_reason=i),label:"Укажите причину отмены",showErrors:m.errors.isShow,errorResponse:m.errors.response},{default:l(()=>[_("Укажите причину отмены "),Ne]),_:1},8,["modelValue","showErrors","errorResponse"])]),_:1},8,["visible"])}const le=I(Ve,[["render",Re],["__file","/var/www/inflow-auto-front-main/src/views/deals/components/CancelDeal.vue"]]),Pe={components:{FormInput:G,Dialog:oe,Button:M},props:{isShowConfirm:Boolean,close:Function,phone:String,title:String,confirm:Function,callback:Function},setup(s,u){const v=C(),m=C(),h=T({}),a=S().params.dealID;return{code:m,errors:h,isSaving:v,handleConfirm:async g=>{v.value=!0;const i=await s.confirm(a,m.value);i.success?(ce({title:"Внимание!",text:i.data.message,type:"success"}),m.value="",s.close(),s.callback&&s.callback()):ce({title:"Внимание!",text:i.error||i.message,type:"error"}),v.value=!1}}}},Te={class:"mb-1"},qe={class:"mb-2"};function Ke(s,u,v,m,h,f){const a=y("FormInput"),w=y("Button"),g=y("Dialog");return E(),Z(g,{visible:s.$props.isShowConfirm,"onUpdate:visible":u[1]||(u[1]=i=>s.$props.isShowConfirm=i),modal:"",header:"Подтверждение сделки",style:{width:"30vw"}},{footer:l(()=>[o(w,{label:"Нет",icon:"pi pi-times",onClick:v.close,text:""},null,8,["onClick"]),o(w,{label:"Да",icon:"pi pi-check",onClick:m.handleConfirm,autofocus:"",loading:m.isSaving},null,8,["onClick","loading"])]),default:l(()=>[e("h4",Te,n(s.$props.title),1),e("p",qe,"Код отправили на "+n(s.$props.phone),1),o(a,{type:"text",name:"code",modelValue:m.code,"onUpdate:modelValue":u[0]||(u[0]=i=>m.code=i),label:"Введите код",showErrors:m.errors.isShow,errorResponse:m.errors.response,as:"mask",maskProps:{mask:"9999"}},null,8,["modelValue","showErrors","errorResponse"])]),_:1},8,["visible"])}const ue=I(Pe,[["render",Ke],["__file","/var/www/inflow-auto-front-main/src/views/deals/components/EnterCodeDeal.vue"]]),Xe="Данные отсутствуют",Ye=new Map([["bank","Банк"]]),Ze=U({components:{Card:z,Button:M,InputSwitch:pe,FormCheckbox:ve,FormInput:G,FormLayout:fe,CancelDeal:le,EnterCodeDeal:ue},props:{dealOverview:Object},setup(s){const u=S(),{principalState:v}=X(),m=u.params.projectID,h=u.params.dealID,f=k(()=>h==="create"),a=C(!1),w=C(!1),g=C(!1),i=C(!1),c=T({}),d=C(null);q(async()=>{const $=await K(h);d.value=$.owner.phone});const r=k(()=>!(s.dealOverview.recommended_cost.complete&&s.dealOverview.recommended_cost.complete&&s.dealOverview.dkp.complete&&s.dealOverview.seller_account.complete&&s.dealOverview.acceptance.complete&&s.dealOverview.docs_passed.complete&&s.dealOverview.keys_passed.complete));return{isCreating:f,projectID:m,dealID:h,dataEmpty:Xe,getFileName:$=>{if($)return $.split("/").reverse()[0]},disabledStartDeal:r,currencyFormat:x,handleTransit:async()=>{a.value=!0,(await $e(h)).success&&(g.value=!0),a.value=!1},isSaving:a,paymentMethod:Ye,errors:c,isShowConfirmManager:g,isShowConfirmCustomer:i,isShowCancel:w,principalState:v,postKeysPassed:de,postDocsPassed:re,phoneOwner:d,postManagerConfirmationConfirm:we,postCustomerConfirmationConfirm:be}}}),He="DealMainBegin_formCard_1691720646594",Ge="DealMainBegin_label_1691720646595",We="DealMainBegin_required_1691720646595",Je="DealMainBegin_doc_1691720646595",Qe="DealMainBegin_docUploaded_1691720646595",es={formCard:He,label:Ge,required:We,doc:Je,docUploaded:Qe},ss={class:"grid mb-4"},ts={class:"col-4"},os={class:"flex justify-content-between"},ls={class:"info flex flex-column gap-2"},us={class:""},ns={class:""},is={class:"col-4"},as={class:"flex justify-content-between"},cs={class:"info flex flex-column gap-2"},ds={class:""},rs=e("i",{class:"text-red-500"},"*",-1),ps=e("p",{class:""}," Средства на счете успешно зарезервированы ",-1),fs={class:"col-4"},vs={class:"flex justify-content-between"},ms={class:"info flex flex-column gap-2"},hs={class:""},_s=e("i",{class:"text-red-500"},"*",-1),gs={class:"flex justify-content-between align-items-center"},ws=e("i",{class:"pi pi-file"},null,-1),bs={class:"text-overflow-ellipsis"},$s={class:"text-xs"},ys={class:"col-4"},Ds={class:"flex justify-content-between"},Cs={class:"info flex flex-column gap-2"},Es={class:""},Os=e("i",{class:"text-red-500"},"*",-1),js={class:""},ks={class:"col-4"},Bs={class:"flex justify-content-between"},Fs={class:"info flex flex-column gap-2"},Is={class:""},Ss=e("i",{class:"text-red-500"},"*",-1),As={class:"flex justify-content-between align-items-center"},Ms=e("i",{class:"pi pi-file"},null,-1),Ls={class:"text-overflow-ellipsis"},Us={class:"text-xs"},xs={class:"col-4"},zs={class:"flex justify-content-between"},Vs={class:"info flex flex-column gap-2"},Ns={class:""},Rs=e("i",{class:"text-red-500"},"*",-1),Ps={class:"flex mt-2"},Ts={class:"ml-3"},qs={class:"col-4"},Ks={class:"flex justify-content-between"},Xs={class:"info flex flex-column gap-2"},Ys={class:""},Zs=e("i",{class:"text-red-500"},"*",-1),Hs={class:"flex mt-2"},Gs={class:"ml-3"},Ws={class:"flex gap-2 justify-content-between"};function Js(s,u,v,m,h,f){var r;const a=y("CancelDeal"),w=y("EnterCodeDeal"),g=y("Card"),i=y("router-link"),c=y("InputSwitch"),d=y("Button");return E(),O(N,null,[o(a,{isShowConfirm:s.isShowCancel,callback:()=>s.isShowCancel=!1},null,8,["isShowConfirm","callback"]),o(w,{isShowConfirm:s.isShowConfirmManager,close:()=>s.isShowConfirmManager=!1,phone:(r=s.principalState.user)==null?void 0:r.phone,confirm:s.postManagerConfirmationConfirm,callback:()=>s.isShowConfirmCustomer=!0,title:"Подтвердите начало сделки кодом из СМС"},null,8,["isShowConfirm","close","phone","confirm","callback"]),o(w,{isShowConfirm:s.isShowConfirmCustomer,close:()=>s.isShowConfirmCustomer=!1,phone:s.phoneOwner,confirm:s.postCustomerConfirmationConfirm,title:"Подтвердите начало сделки кодом из СМС отправленного продавцу"},null,8,["isShowConfirm","close","phone","confirm"]),e("div",ss,[e("div",ts,[o(g,{class:t(["h-full card-footer-bottom",s.dealOverview.recommended_cost.complete?"bg-green-50":"bg-orange-50"])},{content:l(()=>[e("div",os,[e("div",ls,[e("div",us,[e("p",{class:t(s.$style.label)},"Согласованная стоимость",2),e("p",ns,n(s.currencyFormat(s.dealOverview.recommended_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.recommended_cost.complete&&"text-green-500"])},null,2)])]),_:1},8,["class"])]),e("div",is,[o(g,{class:t(["h-full card-footer-bottom","bg-green-50"])},{content:l(()=>[e("div",as,[e("div",cs,[e("div",ds,[e("p",{class:t(s.$style.label)},[_(" Баланс резервного счета "),rs],2),_(" "+n(s.dealOverview.balance.required)+" ",1),ps])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),_:1})]),e("div",fs,[o(g,null,{content:l(()=>[e("div",vs,[e("div",ms,[e("div",hs,[e("p",{class:t(s.$style.label)},[_(" Договор купли-продажи ТС "),_s],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.dkp.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",gs,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[ws,e("div",null,[e("p",bs,n(s.dealOverview.dkp.value?`Договор №: ${s.dealOverview.dkp.value}`:"Договор не сформирован"),1),e("p",$s," Дата подписания: "+n(s.dealOverview.dkp.date?s.dealOverview.dkp.date:"не подписан"),1)])],2)])]),_:1})]),e("div",ys,[o(g,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Ds,[e("div",Cs,[e("div",Es,[e("p",{class:t(s.$style.label)},[_(" Реквизиты получателя "),Os],2),e("p",js," р.с. "+n(s.dealOverview.seller_account.account),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.seller_account.complete&&"text-green-500"])},null,2)])]),_:1})]),e("div",ks,[o(i,{to:`/projects/${s.projectID}/deals/${s.dealID}/act`},{default:l(()=>[o(g,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Bs,[e("div",Fs,[e("div",Is,[e("p",{class:t(s.$style.label)},[_(" Акт приема передачи "),Ss],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.acceptance.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",As,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[Ms,e("div",null,[e("p",Ls,n(s.dealOverview.acceptance.value?`Акт №: ${s.dealOverview.acceptance.value}`:"Акт не сформирован"),1),e("p",Us," Дата подписания: "+n(s.dealOverview.acceptance.date?s.dealOverview.acceptance.date:"не подписан"),1)])],2)])]),_:1})]),_:1},8,["to"])]),e("div",xs,[o(g,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",zs,[e("div",Vs,[e("div",Ns,[e("p",{class:t(s.$style.label)},[_("Передача оригиналов ПТС и СТС "),Rs],2),e("div",Ps,[o(c,{modelValue:s.dealOverview.docs_passed.value,"onUpdate:modelValue":u[0]||(u[0]=p=>s.dealOverview.docs_passed.value=p),onInput:u[1]||(u[1]=p=>s.postDocsPassed(s.dealID,p))},null,8,["modelValue"]),e("p",Ts,n(s.dealOverview.docs_passed.value?"Документы переданы":""),1)])])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.docs_passed.complete&&"text-green-500"])},null,2)])]),_:1})]),e("div",qs,[o(g,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Ks,[e("div",Xs,[e("div",Ys,[e("p",{class:t(s.$style.label)},[_("Передача 2-х комплектов ключей "),Zs],2),e("div",Hs,[o(c,{modelValue:s.dealOverview.keys_passed.value,"onUpdate:modelValue":u[2]||(u[2]=p=>s.dealOverview.keys_passed.value=p),onInput:u[3]||(u[3]=p=>s.postKeysPassed(s.dealID,p))},null,8,["modelValue"]),e("p",Gs,n(s.dealOverview.keys_passed.value?"Ключи переданы":""),1)])])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.keys_passed.complete&&"text-green-500"])},null,2)])]),_:1})])]),e("div",Ws,[o(d,{type:"submit",label:"Подтвердить сделку в банке",disabled:s.disabledStartDeal,onClick:s.handleTransit,loading:s.isSaving},null,8,["disabled","onClick","loading"]),o(d,{type:"submit",class:"ml-auto",label:"Отменить сделку",loading:s.isSaving,severity:"danger",onClick:u[4]||(u[4]=p=>s.isShowCancel=!0)},null,8,["loading"])])],64)}const Qs={$style:es},et=I(Ze,[["render",Js],["__cssModules",Qs],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainBegin.vue"]]),st=U({components:{Card:z,Button:M},props:{dealOverview:Object},setup(){const u=S().params.dealID,{principalState:v}=X();return q(async()=>{await K(u)}),{dealID:u,principalState:v}}}),tt="DealMainCanceled_formCard_1691720646589",ot="DealMainCanceled_label_1691720646589",lt="DealMainCanceled_required_1691720646590",ut="DealMainCanceled_doc_1691720646590",nt="DealMainCanceled_docUploaded_1691720646590",it={formCard:tt,label:ot,required:lt,doc:ut,docUploaded:nt},at={class:"mb-4"},ct=e("h1",null,"В выходе на сделку отказано",-1);function dt(s,u,v,m,h,f){var a;return E(),O("div",at,[ct,_(" Решение руководства: "+n((a=s.principalState.deal)==null?void 0:a.data.cancellation_reason),1)])}const rt={$style:it},pt=I(st,[["render",dt],["__cssModules",rt],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainCanceled.vue"]]),ft="Данные отсутствуют",vt=new Map([["bank","Банк"]]),mt=U({components:{Card:z,Button:M},props:{dealOverview:Object},setup(s){const u=S(),v=u.params.projectID,m=u.params.dealID,h=k(()=>m==="create"),f=C(!1),a=k(()=>!!Object.values(s.dealOverview).filter(i=>i&&typeof i.complete=="boolean").find(({complete:i})=>!i));return{isCreating:h,projectID:v,dealID:m,dataEmpty:ft,getFileName:i=>{if(i)return i.split("/").reverse()[0]},disabledStartDeal:a,currencyFormat:x,toNegotiation:async()=>{f.value=!0,await H(m,"negotiation"),f.value=!1},isSaving:f,paymentMethod:vt}}}),ht="DealMainComplete_formCard_1691720646592",_t="DealMainComplete_label_1691720646592",gt="DealMainComplete_required_1691720646592",wt="DealMainComplete_doc_1691720646592",bt="DealMainComplete_docUploaded_1691720646592",$t={formCard:ht,label:_t,required:gt,doc:wt,docUploaded:bt},yt={class:"grid mb-4"},Dt={class:"col-4"},Ct={class:"flex justify-content-between"},Et={class:"info flex flex-column gap-2"},Ot={class:""},jt={class:""},kt={class:"col-4"},Bt={class:"flex justify-content-between"},Ft={class:"info flex flex-column gap-2"},It={class:""},St=e("i",{class:"text-red-500"},"*",-1),At={class:"flex justify-content-between align-items-center"},Mt=e("i",{class:"pi pi-file"},null,-1),Lt={class:"text-overflow-ellipsis"},Ut={class:"text-xs"},xt={class:"col-4"},zt={class:"flex justify-content-between"},Vt={class:"info flex flex-column gap-2"},Nt={class:""},Rt=e("i",{class:"text-red-500"},"*",-1),Pt={class:"flex justify-content-between align-items-center"},Tt=e("i",{class:"pi pi-file"},null,-1),qt={class:"text-overflow-ellipsis"},Kt={class:"text-xs"},Xt={class:"col-4"},Yt={class:"flex justify-content-between"},Zt={class:"info flex flex-column gap-2"},Ht={class:""},Gt=e("i",{class:"text-red-500"},"*",-1),Wt={class:""},Jt=e("div",{class:"flex justify-content-end align-items-center"},null,-1),Qt={class:"col-4"},eo={class:"flex justify-content-between"},so={class:"info flex flex-column gap-2"},to={class:""},oo=e("i",{class:"text-red-500"},"*",-1),lo={class:""},uo=e("div",{class:"flex justify-content-end align-items-center"},[B(` <Button
                icon="pi pi-arrow-right"
                class="p-button-sm p-button-outlined"
              /> `)],-1),no={class:"col-4"},io={class:"flex justify-content-between"},ao={class:"info flex flex-column gap-2"},co={class:""},ro=e("i",{class:"text-red-500"},"*",-1),po={class:""},fo=e("div",{class:"flex justify-content-end align-items-center"},null,-1),vo=e("div",{class:"bg-green-100 border-1 border-round-md border-solid border-green-500 text-xl text-center py-5"},"Сделка успешно завершена",-1);function mo(s,u,v,m,h,f){const a=y("Card");return E(),O(N,null,[e("div",yt,[e("div",Dt,[o(a,{class:t(["h-full card-footer-bottom",s.dealOverview.recommended_cost.complete?"bg-green-50":"bg-orange-50"])},{content:l(()=>[e("div",Ct,[e("div",Et,[e("div",Ot,[e("p",{class:t(s.$style.label)},"Рекомендуемая стоимость",2),e("p",jt,n(s.currencyFormat(s.dealOverview.recommended_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.recommended_cost.complete&&"text-green-500"])},null,2)])]),_:1},8,["class"])]),e("div",kt,[o(a,null,{content:l(()=>[e("div",Bt,[e("div",Ft,[e("div",It,[e("p",{class:t(s.$style.label)},[_(" Договор купли-продажи ТС "),St],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.dkp.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",At,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[Mt,e("div",null,[e("p",Lt,n(s.dealOverview.dkp.value||"Договор не сформирован"),1),e("p",Ut," Дата подписания: "+n(s.dealOverview.dkp.date?s.dealOverview.dkp.date:"не подписан"),1)])],2)])]),_:1})]),e("div",xt,[o(a,null,{content:l(()=>[e("div",zt,[e("div",Vt,[e("div",Nt,[e("p",{class:t(s.$style.label)},[_(" Соглашение ТС "),Rt],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.acceptance.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Pt,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[Tt,e("div",null,[e("p",qt,n(s.dealOverview.acceptance.value||"Договор не сформирован"),1),e("p",Kt," Дата подписания: "+n(s.dealOverview.acceptance.date?s.dealOverview.acceptance.date:"не подписан"),1)])],2)])]),_:1})]),e("div",Xt,[o(a,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Yt,[e("div",Zt,[e("div",Ht,[e("p",{class:t(s.$style.label)},[_(" Реквизиты получателя "),Gt],2),e("p",Wt,n(s.dealOverview.seller_account.account),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.seller_account.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[Jt]),_:1})]),e("div",Qt,[o(a,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",eo,[e("div",so,[e("div",to,[e("p",{class:t(s.$style.label)},[_(" Ключи переданы "),oo],2),e("p",lo,n(s.dealOverview.keys_passed.value?"Да":"Нет"),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.keys_passed.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[uo]),_:1})]),e("div",no,[o(a,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",io,[e("div",ao,[e("div",co,[e("p",{class:t(s.$style.label)},[_(" Документы переданы "),ro],2),e("p",po,n(s.dealOverview.docs_passed.value?"Да":"Нет"),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.docs_passed.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[fo]),_:1})])]),vo],64)}const ho={$style:$t},_o=I(mt,[["render",mo],["__cssModules",ho],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainComplete.vue"]]),go="Данные отсутствуют",wo=U({components:{Card:z,Button:M},props:{dealOverview:Object},setup(s){const u=S(),v=u.params.projectID,m=u.params.dealID,h=k(()=>m==="create"),f=C(!1),a=k(()=>{var c,d,r,p,b,$,D,V,L;return!!(s.dealOverview&&((d=(c=s.dealOverview)==null?void 0:c.car)!=null&&d.complete)&&((r=s.dealOverview)!=null&&r.owner.complete)&&((p=s.dealOverview)!=null&&p.signer.complete)&&((b=s.dealOverview)!=null&&b.docs.complete)&&(($=s.dealOverview)!=null&&$.photos.complete)&&((D=s.dealOverview)!=null&&D.inspection_date_time.complete)&&((V=s.dealOverview)!=null&&V.inspection_address.complete)&&((L=s.dealOverview)!=null&&L.agreement.complete))}),w=c=>{if(c)return c.split("/").reverse()[0]},g=m==="create"?"Создание сделки":`Сделка № ${m}`;return{isCreating:h,projectID:v,dealID:m,dataEmpty:go,getFileName:w,disabledStartDeal:a,currencyFormat:x,title:g,toNegotiation:async()=>{f.value=!0,await H(m,"negotiation"),f.value=!1},isSaving:f}}}),bo="DealMainDraft_label_1691720646603",$o="DealMainDraft_doc_1691720646603",yo="DealMainDraft_docUploaded_1691720646603",Do={label:bo,doc:$o,docUploaded:yo},Co={class:"grid"},Eo={class:"col-12 md:col-4 lg:col-2"},Oo={class:"flex justify-content-between"},jo={class:"info flex flex-column gap-2"},ko={class:""},Bo=e("i",{class:"text-red-500"},"*",-1),Fo={class:""},Io={class:""},So={class:""},Ao={class:"flex justify-content-between align-items-center"},Mo={class:"text-sm"},Lo={class:"col-12 md:col-4 lg:col-2"},Uo={class:"flex justify-content-between"},xo={class:"info flex flex-column gap-2"},zo={class:""},Vo=e("i",{class:"text-red-500"},"*",-1),No={class:""},Ro={class:""},Po={class:""},To={class:"flex justify-content-between align-items-center"},qo={class:"text-sm"},Ko={class:"col-12 md:col-4 lg:col-2"},Xo={class:"flex justify-content-between"},Yo={class:"info flex flex-column gap-2"},Zo={class:""},Ho=e("i",{class:"text-red-500"},"*",-1),Go={class:""},Wo={class:""},Jo={class:""},Qo={class:"flex justify-content-between align-items-center"},el={class:"text-sm"},sl={class:"col-12 md:col-4 lg:col-2"},tl={class:"flex justify-content-between"},ol={class:"info flex flex-column gap-2"},ll={class:""},ul=e("i",{class:"text-red-500"},"*",-1),nl={class:"flex justify-content-between align-items-center"},il={class:"text-sm"},al={class:"col-12 md:col-4 lg:col-2"},cl={class:"flex justify-content-between"},dl={class:"info flex flex-column gap-2"},rl={class:""},pl=e("i",{class:"text-red-500"},"*",-1),fl={class:"flex justify-content-between align-items-center"},vl={class:"text-sm"},ml={class:"col-12 md:col-4 lg:col-2"},hl={class:"flex justify-content-between"},_l={class:"info flex flex-column gap-2"},gl={class:""},wl=e("i",{class:"text-red-500"},"*",-1),bl={class:""},$l={class:"flex justify-content-end align-items-center"},yl={class:"col-12 md:col-4 lg:col-2"},Dl={class:"flex justify-content-between"},Cl={class:"info flex flex-column gap-2"},El={class:""},Ol=e("i",{class:"text-red-500"},"*",-1),jl={class:""},kl={class:"flex justify-content-end align-items-center"},Bl={class:"col-12 md:col-4 lg:col-2"},Fl={class:"flex justify-content-between"},Il={class:"info flex flex-column gap-2"},Sl={class:""},Al={class:""},Ml={class:"flex justify-content-end align-items-center"},Ll={class:"col-12 md:col-4 lg:col-2"},Ul={class:"flex justify-content-between"},xl={class:"info flex flex-column gap-2"},zl={class:""},Vl={class:""},Nl={class:"flex justify-content-end align-items-center"},Rl={class:"flex justify-content-between"},Pl={class:"info flex flex-column gap-2"},Tl={class:""},ql={class:"flex justify-content-between align-items-center"},Kl=e("i",{class:"pi pi-file"},null,-1);function Xl(s,u,v,m,h,f){const a=y("Button"),w=y("Card"),g=y("router-link");return E(),O(N,null,[e("div",Co,[e("div",Eo,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/ts`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.car)==null?void 0:c.complete}])},{content:l(()=>{var d,r,p,b,$,D;return[e("div",Oo,[e("div",jo,[e("div",ko,[e("p",{class:t(s.$style.label)},[_(" Транспортное средство "),Bo],2),e("p",Fo,n((r=(d=s.dealOverview)==null?void 0:d.car)==null?void 0:r.name),1)]),e("div",Io,[e("p",{class:t(s.$style.label)},"VIN",2),e("p",So,n((b=(p=s.dealOverview)==null?void 0:p.car)==null?void 0:b.vin),1)])]),e("i",{class:t(["pi pi-check-circle",((D=($=s.dealOverview)==null?void 0:$.car)==null?void 0:D.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>{var d,r,p,b;return[e("div",Ao,[e("p",Mo,n((r=(d=s.dealOverview)==null?void 0:d.car)==null?void 0:r.fields_filled)+" из "+n((b=(p=s.dealOverview)==null?void 0:p.car)==null?void 0:b.fields_total),1),o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",Lo,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/owner-ts`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.owner)==null?void 0:c.complete}])},{content:l(()=>{var d,r,p,b,$,D;return[e("div",Uo,[e("div",xo,[e("div",zo,[e("p",{class:t(s.$style.label)},[_(" Владелец ТС "),Vo],2),e("p",No,n((r=(d=s.dealOverview)==null?void 0:d.owner)==null?void 0:r.name),1)]),e("div",Ro,[e("p",{class:t(s.$style.label)},"Контактный телефон",2),e("p",Po,n((b=(p=s.dealOverview)==null?void 0:p.owner)==null?void 0:b.phone),1)])]),e("i",{class:t(["pi pi-check-circle",((D=($=s.dealOverview)==null?void 0:$.owner)==null?void 0:D.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>{var d,r,p,b;return[e("div",To,[e("p",qo,n((r=(d=s.dealOverview)==null?void 0:d.owner)==null?void 0:r.fields_filled)+" из "+n((b=(p=s.dealOverview)==null?void 0:p.owner)==null?void 0:b.fields_total),1),o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",Ko,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/signatory`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.signer)==null?void 0:c.complete}])},{content:l(()=>{var d,r,p,b,$,D;return[e("div",Xo,[e("div",Yo,[e("div",Zo,[e("p",{class:t(s.$style.label)},[_(" Подписант "),Ho],2),e("p",Go,n((r=(d=s.dealOverview)==null?void 0:d.signer)==null?void 0:r.name),1)]),e("div",Wo,[e("p",{class:t(s.$style.label)},"Контактный телефон",2),e("p",Jo,n((b=(p=s.dealOverview)==null?void 0:p.signer)==null?void 0:b.phone),1)])]),e("i",{class:t(["pi pi-check-circle",((D=($=s.dealOverview)==null?void 0:$.signer)==null?void 0:D.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>{var d,r,p,b;return[e("div",Qo,[e("p",el,n((r=(d=s.dealOverview)==null?void 0:d.signer)==null?void 0:r.fields_filled)+" из "+n((b=(p=s.dealOverview)==null?void 0:p.signer)==null?void 0:b.fields_total),1),o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",sl,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/docs`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.docs)==null?void 0:c.complete}])},{content:l(()=>{var d,r;return[e("div",tl,[e("div",ol,[e("div",ll,[e("p",{class:t(s.$style.label)},[_(" Документы "),ul],2)])]),e("i",{class:t(["pi pi-check-circle",((r=(d=s.dealOverview)==null?void 0:d.docs)==null?void 0:r.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>{var d,r,p,b;return[e("div",nl,[e("p",il,n((r=(d=s.dealOverview)==null?void 0:d.docs)==null?void 0:r.fields_filled)+" из "+n((b=(p=s.dealOverview)==null?void 0:p.docs)==null?void 0:b.fields_total),1),o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",al,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/photos`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.photos)==null?void 0:c.complete}])},{content:l(()=>{var d,r;return[e("div",cl,[e("div",dl,[e("div",rl,[e("p",{class:t(s.$style.label)},[_(" Фотографии ТС "),pl],2)])]),e("i",{class:t(["pi pi-check-circle",((r=(d=s.dealOverview)==null?void 0:d.photos)==null?void 0:r.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>{var d,r,p,b;return[e("div",fl,[e("p",vl,n((r=(d=s.dealOverview)==null?void 0:d.photos)==null?void 0:r.fields_filled)+" из "+n((b=(p=s.dealOverview)==null?void 0:p.photos)==null?void 0:b.fields_total),1),o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",ml,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/date-and-time`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.inspection_date_time)==null?void 0:c.complete}])},{content:l(()=>{var d,r,p,b,$,D;return[e("div",hl,[e("div",_l,[e("div",gl,[e("p",{class:t(s.$style.label)},[_(" Дата и время сделки ТС "),wl],2),e("p",bl,n((r=(d=s.dealOverview)==null?void 0:d.inspection_date_time)==null?void 0:r.date)+" "+n((b=(p=s.dealOverview)==null?void 0:p.inspection_date_time)==null?void 0:b.time),1)])]),e("i",{class:t(["pi pi-check-circle",((D=($=s.dealOverview)==null?void 0:$.inspection_date_time)==null?void 0:D.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>[e("div",$l,[o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",yl,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/place-of-transaction`,class:"h-full"},{default:l(()=>{var i,c;return[o(w,{class:t(["h-full card-footer-bottom",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.inspection_address)==null?void 0:c.complete}])},{content:l(()=>{var d,r,p,b;return[e("div",Dl,[e("div",Cl,[e("div",El,[e("p",{class:t(s.$style.label)},[_(" Место сделки ТС "),Ol],2),e("p",jl,n((r=(d=s.dealOverview)==null?void 0:d.inspection_address)==null?void 0:r.value),1)])]),e("i",{class:t(["pi pi-check-circle",((b=(p=s.dealOverview)==null?void 0:p.inspection_address)==null?void 0:b.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>[e("div",kl,[o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",Bl,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/declared-cost`,class:"h-full"},{default:l(()=>[o(w,{class:"h-full card-footer-bottom"},{content:l(()=>{var i;return[e("div",Fl,[e("div",Il,[e("div",Sl,[e("p",{class:t(s.$style.label)},"Желаемая стоимость ТС",2),e("p",Al,n(s.currencyFormat((i=s.dealOverview)==null?void 0:i.declared_cost_field)),1)])])])]}),footer:l(()=>[e("div",Ml,[o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",Ll,[o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/comment`,class:"h-full"},{default:l(()=>[o(w,{class:"h-full card-footer-bottom"},{content:l(()=>{var i;return[e("div",Ul,[e("div",xl,[e("div",zl,[e("p",{class:t(s.$style.label)},"Комментарии по сделке",2),e("p",Vl,n((i=s.dealOverview)==null?void 0:i.comment),1)])])])]}),footer:l(()=>[e("div",Nl,[o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])])]),o(g,{to:`/projects/${s.projectID}/deals/${s.dealID}/agrement`},{default:l(()=>{var i,c;return[o(w,{class:t(["mb-4 mt-2",{"bg-green-50":(c=(i=s.dealOverview)==null?void 0:i.agreement)==null?void 0:c.complete}])},{content:l(()=>{var d,r;return[e("div",Rl,[e("div",Pl,[e("div",Tl,[e("p",{class:t(s.$style.label)}," Согласие на обработку и хранение персональных данных ",2)])]),e("i",{class:t(["pi pi-check-circle",((r=(d=s.dealOverview)==null?void 0:d.agreement)==null?void 0:r.complete)&&"text-green-500"])},null,2)])]}),footer:l(()=>{var d,r,p;return[e("div",ql,[e("p",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"text-overflow-ellipsis"])},[Kl,_(" "+n(s.getFileName((p=(r=(d=s.dealOverview)==null?void 0:d.agreement)==null?void 0:r.value)==null?void 0:p.original_url)||s.dataEmpty),1)],2),o(a,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]}),_:1},8,["to"]),o(a,{type:"submit",label:"Начать сделку",disabled:!s.disabledStartDeal,onClick:s.toNegotiation,loading:s.isSaving},null,8,["disabled","onClick","loading"])],64)}const Yl={$style:Do},Zl=I(wo,[["render",Xl],["__cssModules",Yl],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainDraft.vue"]]);/*! js-cookie v3.0.1 | MIT */function Y(s){for(var u=1;u<arguments.length;u++){var v=arguments[u];for(var m in v)s[m]=v[m]}return s}var Hl={read:function(s){return s[0]==='"'&&(s=s.slice(1,-1)),s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(s){return encodeURIComponent(s).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function te(s,u){function v(h,f,a){if(typeof document!="undefined"){a=Y({},u,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),h=encodeURIComponent(h).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var w="";for(var g in a)a[g]&&(w+="; "+g,a[g]!==!0&&(w+="="+a[g].split(";")[0]));return document.cookie=h+"="+s.write(f,h)+w}}function m(h){if(!(typeof document=="undefined"||arguments.length&&!h)){for(var f=document.cookie?document.cookie.split("; "):[],a={},w=0;w<f.length;w++){var g=f[w].split("="),i=g.slice(1).join("=");try{var c=decodeURIComponent(g[0]);if(a[c]=s.read(i,c),h===c)break}catch(d){}}return h?a[h]:a}}return Object.create({set:v,get:m,remove:function(h,f){v(h,"",Y({},f,{expires:-1}))},withAttributes:function(h){return te(this.converter,Y({},this.attributes,h))},withConverter:function(h){return te(Y({},this.converter,h),this.attributes)}},{attributes:{value:Object.freeze(u)},converter:{value:Object.freeze(s)}})}te(Hl,{path:"/"});const Gl="Данные отсутствуют",Wl=new Map([["bank","Банк"]]),Jl=U({components:{Card:z,Button:M,FormCheckbox:ve,FormInput:G,FormLayout:fe,CancelDeal:le,EnterCodeDeal:ue},props:{dealOverview:Object},setup(s){var L,R,j,P,ne;const u=S(),{principalState:v}=X(),m=u.params.projectID,h=u.params.dealID,f=k(()=>h==="create"),a=C(!1),w=C(!1),g=C(!1),i=C(!1),c=C(null),d=C({allowed:(L=s.dealOverview.allowed)!=null&&L.value?s.dealOverview.allowed.value.toString():"0",recommended_cost:((j=(R=s.dealOverview)==null?void 0:R.recommended_cost)==null?void 0:j.value)||0,decision:((ne=(P=s.dealOverview)==null?void 0:P.decision)==null?void 0:ne.value)||""}),r=T({});q(async()=>{const A=await K(h);c.value=A.owner.phone});const p=k(()=>!(s.dealOverview.recommended_cost.complete&&s.dealOverview.declared_cost.complete&&s.dealOverview.dkp.complete&&s.dealOverview.balance.complete&&s.dealOverview.seller_account.complete&&s.dealOverview.pay_method.complete&&s.dealOverview.deal_cost.complete)),b=A=>{if(A)return A.split("/").reverse()[0]},$=async A=>{a.value=!0,(await H(h,A)).success&&(w.value=!0),a.value=!1},D=k(()=>d.value.allowed==="0"||d.value.decision===""||Number(d.value.recommended_cost)===0);return{isCreating:f,projectID:m,dealID:h,dataEmpty:Gl,getFileName:b,disabledStartDeal:p,currencyFormat:x,handleTransit:$,isSaving:a,paymentMethod:Wl,allowed:d,errors:r,handleAllowed:async()=>{a.value=!0;const A=await Ce(h,d.value);A.success||(r.isShow=!0,r.response=A),a.value=!1},isShowConfirmManager:w,isShowCancel:i,disabled:D,principalState:v,postManagerBeginConfirm:ye,postCustomerBeginConfirm:De,isShowConfirmCustomer:g,phoneOwner:c}}}),Ql="DealMainNegotiation_formCard_1691720646608 DealMainNegotiation_formCard_1691720646609",eu="DealMainNegotiation_label_1691720646609",su="DealMainNegotiation_required_1691720646609",tu="DealMainNegotiation_doc_1691720646609",ou="DealMainNegotiation_docUploaded_1691720646609",lu={formCard:Ql,label:eu,required:su,doc:tu,docUploaded:ou},uu={key:0,class:""},nu={key:0,class:"border-round-md surface-50 border-green-500 border-dashed border-1 p-4 mb-4"},iu=e("h2",null,"Необходимо ваше подтверждение",-1),au={class:"col-6"},cu=e("i",{class:"text-red-500"},"*",-1),du={class:"col-6"},ru={class:"col-12"},pu=e("i",{class:"text-red-500"},"*",-1),fu={class:"flex gap-2 justify-content-between col-12"},vu={class:"grid"},mu={class:"col-12 md:col-4 sm:col-6 mb-2"},hu={class:"flex justify-content-between"},_u={class:"info flex flex-column gap-2"},gu={class:""},wu=e("i",{class:"text-red-500"},"*",-1),bu={class:""},$u={class:""},yu={class:""},Du={class:"flex justify-content-between align-items-center"},Cu={class:"text-sm"},Eu={class:"col-12 md:col-4 sm:col-6 mb-2"},Ou={class:"flex justify-content-between"},ju={class:"info flex flex-column gap-2"},ku={class:""},Bu=e("i",{class:"text-red-500"},"*",-1),Fu={class:""},Iu={class:""},Su={class:""},Au={class:"flex justify-content-between align-items-center"},Mu={class:"text-sm"},Lu={class:"col-12 md:col-4 sm:col-6 mb-2"},Uu={class:"flex justify-content-between"},xu={class:"info flex flex-column gap-2"},zu={class:""},Vu=e("i",{class:"text-red-500"},"*",-1),Nu={class:""},Ru={class:""},Pu={class:""},Tu={class:"flex justify-content-between align-items-center"},qu={class:"text-sm"},Ku={class:"col-12 md:col-4 sm:col-6 mb-2"},Xu={class:"flex justify-content-between"},Yu={class:"info flex flex-column gap-2"},Zu={class:""},Hu=e("i",{class:"text-red-500"},"*",-1),Gu={class:"flex justify-content-between align-items-center"},Wu={class:"text-sm"},Ju={class:"col-12 md:col-4 sm:col-6 mb-2"},Qu={class:"flex justify-content-between"},en={class:"info flex flex-column gap-2"},sn={class:""},tn=e("i",{class:"text-red-500"},"*",-1),on={class:"flex justify-content-between align-items-center"},ln={class:"text-sm"},un={class:"col-12 md:col-4 sm:col-6 mb-2"},nn={class:"flex justify-content-between"},an={class:"info flex flex-column gap-2"},cn={class:""},dn=e("i",{class:"text-red-500"},"*",-1),rn={class:""},pn={class:"flex justify-content-end align-items-center"},fn={class:"col-12 md:col-4 sm:col-6 mb-2"},vn={class:"flex justify-content-between"},mn={class:"info flex flex-column gap-2"},hn={class:""},_n=e("i",{class:"text-red-500"},"*",-1),gn={class:""},wn={class:"flex justify-content-end align-items-center"},bn={class:"col-12 md:col-4 sm:col-6 mb-2"},$n={class:"flex justify-content-between"},yn={class:"info flex flex-column gap-2"},Dn={class:""},Cn={class:""},En={class:"flex justify-content-end align-items-center"},On={class:"col-12 md:col-4 sm:col-6 mb-2"},jn={class:"flex justify-content-between"},kn={class:"info flex flex-column gap-2"},Bn={class:""},Fn={class:""},In={class:"flex justify-content-end align-items-center"},Sn={class:"flex justify-content-between"},An={class:"info flex flex-column gap-2"},Mn={class:""},Ln={class:"flex justify-content-between align-items-center"},Un=e("i",{class:"pi pi-file"},null,-1),xn={class:"grid mb-4"},zn={class:"col-4"},Vn={class:"flex justify-content-between"},Nn={class:"info flex flex-column gap-2"},Rn={class:""},Pn={class:""},Tn={class:"col-4"},qn={class:"flex justify-content-between"},Kn={class:"info flex flex-column gap-2"},Xn={class:""},Yn={class:""},Zn={class:"col-4"},Hn={class:"flex justify-content-between"},Gn={class:"info flex flex-column gap-2"},Wn={class:""},Jn=e("i",{class:"text-red-500"},"*",-1),Qn={class:""},ei={class:"flex justify-content-end align-items-center"},si={class:"col-4"},ti={class:"flex justify-content-between"},oi={class:"info flex flex-column gap-2"},li={class:""},ui=e("i",{class:"text-red-500"},"*",-1),ni={class:"flex justify-content-between align-items-center"},ii=e("i",{class:"pi pi-file"},null,-1),ai={class:"text-overflow-ellipsis"},ci={class:"text-xs"},di={class:"col-4"},ri={class:"flex justify-content-between"},pi={class:"info flex flex-column gap-2"},fi={class:""},vi=e("i",{class:"text-red-500"},"*",-1),mi={class:""},hi={class:"flex justify-content-between align-items-center"},_i={class:"text-sm text-red-500"},gi={class:"col-4"},wi={class:"flex justify-content-between"},bi={class:"info flex flex-column gap-2"},$i={class:""},yi=e("i",{class:"text-red-500"},"*",-1),Di={class:""},Ci={class:"flex justify-content-end align-items-center"},Ei={class:"col-4"},Oi={class:"flex justify-content-between"},ji={class:"info flex flex-column gap-2"},ki={class:""},Bi=e("i",{class:"text-red-500"},"*",-1),Fi={class:""},Ii=e("div",{class:"flex justify-content-end align-items-center"},[B(` <Button
                  icon="pi pi-arrow-right"
                  class="p-button-sm p-button-outlined"
                /> `)],-1),Si={class:"col-4"},Ai={class:"flex justify-content-between"},Mi={class:"info flex flex-column gap-2"},Li={class:""},Ui=e("i",{class:"text-red-500"},"*",-1),xi={class:""},zi={class:"flex justify-content-end align-items-center"},Vi={class:"flex gap-2 justify-content-between"};function Ni(s,u,v,m,h,f){var b;const a=y("CancelDeal"),w=y("EnterCodeDeal"),g=y("FormInput"),i=y("FormCheckbox"),c=y("Button"),d=y("FormLayout"),r=y("Card"),p=y("router-link");return E(),O(N,null,[o(a,{isShowConfirm:s.isShowCancel,callback:()=>s.isShowCancel=!1},null,8,["isShowConfirm","callback"]),o(w,{isShowConfirm:s.isShowConfirmManager,close:()=>s.isShowConfirmManager=!1,phone:(b=s.principalState.user)==null?void 0:b.phone,confirm:s.postManagerBeginConfirm,callback:()=>s.isShowConfirmCustomer=!0,title:"Подтвердите сделку кодом из СМС"},null,8,["isShowConfirm","close","phone","confirm","callback"]),o(w,{isShowConfirm:s.isShowConfirmCustomer,close:()=>s.isShowConfirmCustomer=!1,phone:s.phoneOwner,confirm:s.postCustomerBeginConfirm,title:"Подтвердите сделку кодом из СМС отправленного продавцу"},null,8,["isShowConfirm","close","phone","confirm"]),s.principalState.user.roles.includes("owner")?(E(),O("div",uu,[s.dealOverview.allowed.value===0?(E(),O("div",nu,[iu,o(d,{class:"grid"},{default:l(()=>[e("div",au,[o(g,{type:"text",name:"recommended_cost",modelValue:s.allowed.recommended_cost,"onUpdate:modelValue":u[0]||(u[0]=$=>s.allowed.recommended_cost=$),label:"Рекомендованная стоимость",showErrors:s.errors.isShow,as:"number",errorResponse:s.errors.response},{default:l(()=>[_("Рекомендованная стоимость "),cu]),_:1},8,["modelValue","showErrors","errorResponse"])]),e("div",du,[o(i,{name:"allowed",class:"mt-4",modelValue:s.allowed.allowed,"onUpdate:modelValue":u[1]||(u[1]=$=>s.allowed.allowed=$),label:"Разрешено",showErrors:s.errors.isShow,errorResponse:s.errors.response},null,8,["modelValue","showErrors","errorResponse"])]),e("div",ru,[o(g,{type:"text",name:"decision",modelValue:s.allowed.decision,"onUpdate:modelValue":u[2]||(u[2]=$=>s.allowed.decision=$),label:"Решение руководителя",showErrors:s.errors.isShow,errorResponse:s.errors.response},{default:l(()=>[_("Решение руководителя "),pu]),_:1},8,["modelValue","showErrors","errorResponse"])]),e("div",fu,[o(c,{type:"submit",label:"Подтвердить сделку",onClick:s.handleAllowed,loading:s.isSaving,disabled:s.disabled},null,8,["onClick","loading","disabled"]),o(c,{type:"submit",label:"Отменить сделку",loading:s.isSaving,severity:"danger",onClick:u[3]||(u[3]=$=>s.isShowConfirm=!0)},null,8,["loading"])])]),_:1})])):B("v-if",!0),e("div",vu,[e("div",mu,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/ts`,class:"h-full"},{default:l(()=>{var $,D;return[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":(D=($=s.dealOverview)==null?void 0:$.car)==null?void 0:D.complete}])},{content:l(()=>[e("div",hu,[e("div",_u,[e("div",gu,[e("p",{class:t(s.$style.label)},[_(" Транспортное средство "),wu],2),e("p",bu,n(s.dealOverview.car.name),1)]),e("div",$u,[e("p",{class:t(s.$style.label)},"VIN",2),e("p",yu,n(s.dealOverview.car.vin),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.car.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Du,[e("p",Cu,n(s.dealOverview.car.fields_filled)+" из "+n(s.dealOverview.car.fields_total),1),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]}),_:1},8,["to"])]),e("div",Eu,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/owner-ts`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.owner.complete}])},{content:l(()=>[e("div",Ou,[e("div",ju,[e("div",ku,[e("p",{class:t(s.$style.label)},[_(" Владелец ТС "),Bu],2),e("p",Fu,n(s.dealOverview.owner.name),1)]),e("div",Iu,[e("p",{class:t(s.$style.label)},"Контактный телефон",2),e("p",Su,n(s.dealOverview.owner.phone),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.owner.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Au,[e("p",Mu,n(s.dealOverview.owner.fields_filled)+" из "+n(s.dealOverview.owner.fields_total),1),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",Lu,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/signatory`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.signer.complete}])},{content:l(()=>[e("div",Uu,[e("div",xu,[e("div",zu,[e("p",{class:t(s.$style.label)},[_(" Подписант "),Vu],2),e("p",Nu,n(s.dealOverview.signer.name),1)]),e("div",Ru,[e("p",{class:t(s.$style.label)},"Контактный телефон",2),e("p",Pu,n(s.dealOverview.signer.phone),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.signer.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Tu,[e("p",qu,n(s.dealOverview.signer.fields_filled)+" из "+n(s.dealOverview.signer.fields_total),1),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",Ku,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/docs`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.docs.complete}])},{content:l(()=>[e("div",Xu,[e("div",Yu,[e("div",Zu,[e("p",{class:t(s.$style.label)},[_(" Документы "),Hu],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.docs.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Gu,[e("p",Wu,n(s.dealOverview.docs.fields_filled)+" из "+n(s.dealOverview.docs.fields_total),1),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",Ju,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/photos`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.photos.complete}])},{content:l(()=>[e("div",Qu,[e("div",en,[e("div",sn,[e("p",{class:t(s.$style.label)},[_(" Фотографии ТС "),tn],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.photos.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",on,[e("p",ln,n(s.dealOverview.photos.fields_filled)+" из "+n(s.dealOverview.photos.fields_total),1),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",un,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/date-and-time`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.inspection_date_time.complete}])},{content:l(()=>[e("div",nn,[e("div",an,[e("div",cn,[e("p",{class:t(s.$style.label)},[_(" Дата и время сделки ТС "),dn],2),e("p",rn,n(s.dealOverview.inspection_date_time.date)+" "+n(s.dealOverview.inspection_date_time.time),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.inspection_date_time.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",pn,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",fn,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/place-of-transaction`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.inspection_address.complete}])},{content:l(()=>[e("div",vn,[e("div",mn,[e("div",hn,[e("p",{class:t(s.$style.label)},[_(" Место сделки ТС "),_n],2),e("p",gn,n(s.dealOverview.inspection_address.value),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.inspection_address.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",wn,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",bn,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/declared-cost`,class:"h-full"},{default:l(()=>[o(r,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",$n,[e("div",yn,[e("div",Dn,[e("p",{class:t(s.$style.label)},"Желаемая стоимость ТС",2),e("p",Cn,n(s.currencyFormat(s.dealOverview.declared_cost_field)),1)])])])]),footer:l(()=>[e("div",En,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",On,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/comment`,class:"h-full"},{default:l(()=>[o(r,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",jn,[e("div",kn,[e("div",Bn,[e("p",{class:t(s.$style.label)},"Комментарии по сделке",2),e("p",Fn,n(s.dealOverview.comment),1)])])])]),footer:l(()=>[e("div",In,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])])]),o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/agrement`},{default:l(()=>[o(r,{class:t(["mb-4 mt-2",{"bg-green-50":s.dealOverview.agreement.complete}])},{content:l(()=>[e("div",Sn,[e("div",An,[e("div",Mn,[e("p",{class:t(s.$style.label)}," Согласие на обработку и хранение персональных данных ",2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.agreement.complete&&"text-green-500"])},null,2)])]),footer:l(()=>{var $,D;return[e("div",Ln,[e("p",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"text-overflow-ellipsis"])},[Un,_(" "+n(s.getFileName((D=($=s.dealOverview.agreement)==null?void 0:$.value)==null?void 0:D.original_url)||s.dataEmpty),1)],2),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1},8,["class"])]),_:1},8,["to"])])):B("v-if",!0),e("div",null,[e("div",xn,[e("div",zn,[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.decision.complete}])},{content:l(()=>[e("div",Vn,[e("div",Nn,[e("div",Rn,[e("p",{class:t(s.$style.label)},"Решение руководства",2),e("p",Pn,n(s.dealOverview.decision.value?"Разрешено":"Не разрешено"),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.decision.complete&&"text-green-500"])},null,2)])]),_:1},8,["class"])]),e("div",Tn,[o(r,{class:t(["h-full card-footer-bottom",s.dealOverview.recommended_cost.complete?"bg-green-50":"bg-orange-50"])},{content:l(()=>[e("div",qn,[e("div",Kn,[e("div",Xn,[e("p",{class:t(s.$style.label)},"Рекомендуемая стоимость",2),e("p",Yn,n(s.currencyFormat(s.dealOverview.recommended_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.recommended_cost.complete&&"text-green-500"])},null,2)])]),_:1},8,["class"])]),e("div",Zn,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/declared-cost`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.declared_cost.complete}])},{content:l(()=>[e("div",Hn,[e("div",Gn,[e("div",Wn,[e("p",{class:t(s.$style.label)},[_(" Согласованная стоимость "),Jn],2),e("p",Qn,n(s.currencyFormat(s.dealOverview.declared_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.declared_cost.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",ei,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",si,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/dkp`},{default:l(()=>[o(r,{class:t({"bg-green-50":s.dealOverview.dkp.complete})},{content:l(()=>[e("div",ti,[e("div",oi,[e("div",li,[e("p",{class:t(s.$style.label)},[_(" Договор купли-продажи ТС "),ui],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.dkp.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",ni,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[ii,e("div",null,[e("p",ai,n(s.dealOverview.dkp.value||"Договор не сформирован"),1),e("p",ci," Дата подписания: "+n(s.dealOverview.dkp.date?s.dealOverview.dkp.date:"не подписан"),1)])],2),o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",di,[o(r,{class:t(["h-full card-footer-bottom border-solid border-1",s.dealOverview.balance.complete?"bg-green-50":"border-red-500"])},{content:l(()=>[e("div",ri,[e("div",pi,[e("div",fi,[e("p",{class:t(s.$style.label)},[_(" Баланс резервного счета "),vi],2),e("p",mi,n(s.dealOverview.balance.value),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.balance.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",hi,[e("p",_i,n(s.dealOverview.balance.complete?"":`* С учетом комиссии на счету должно быть минимум ${s.currencyFormat(s.dealOverview.balance.required)}`),1)])]),_:1},8,["class"])]),e("div",gi,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/seller-account`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.seller_account.complete}])},{content:l(()=>[e("div",wi,[e("div",bi,[e("div",$i,[e("p",{class:t(s.$style.label)},[_(" Реквизиты получателя "),yi],2),e("p",Di,n(s.dealOverview.seller_account.account),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.seller_account.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Ci,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])]),e("div",Ei,[o(p,{to:"#",class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.pay_method.complete}])},{content:l(()=>[e("div",Oi,[e("div",ji,[e("div",ki,[e("p",{class:t(s.$style.label)},[_(" Способ оплаты "),Bi],2),e("p",Fi,n(s.paymentMethod.get(s.dealOverview.pay_method.value)||s.dataEmpty),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.pay_method.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[Ii]),_:1},8,["class"])]),_:1})]),e("div",Si,[o(p,{to:`/projects/${s.projectID}/deals/${s.dealID}/cost`,class:"h-full"},{default:l(()=>[o(r,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.deal_cost.complete}])},{content:l(()=>[e("div",Ai,[e("div",Mi,[e("div",Li,[e("p",{class:t(s.$style.label)},[_(" Стоимость в договоре "),Ui],2),e("p",xi,n(s.currencyFormat(s.dealOverview.deal_cost.value||0)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.deal_cost.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",zi,[o(c,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1},8,["class"])]),_:1},8,["to"])])]),e("div",Vi,[o(c,{type:"submit",label:"Отправить сделку в банк",disabled:s.disabledStartDeal,onClick:u[4]||(u[4]=()=>s.handleTransit("begin")),loading:s.isSaving},null,8,["disabled","loading"]),o(c,{type:"submit",label:"Отменить сделку",loading:s.isSaving,severity:"danger",onClick:u[5]||(u[5]=$=>s.isShowCancel=!0)},null,8,["loading"])])])],64)}const Ri={$style:lu},Pi=I(Jl,[["render",Ni],["__cssModules",Ri],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainNegotiation.vue"]]),Ti="Данные отсутствуют",qi=new Map([["bank","Банк"]]),Ki=U({components:{Card:z,Button:M},props:{dealOverview:Object},setup(s){const u=S(),v=u.params.projectID,m=u.params.dealID,h=k(()=>m==="create"),f=C(!1),a=k(()=>!!Object.values(s.dealOverview).filter(i=>i&&typeof i.complete=="boolean").find(({complete:i})=>!i));return{isCreating:h,projectID:v,dealID:m,dataEmpty:Ti,getFileName:i=>{if(i)return i.split("/").reverse()[0]},disabledStartDeal:a,currencyFormat:x,toNegotiation:async()=>{f.value=!0,await H(m,"negotiation"),f.value=!1},isSaving:f,paymentMethod:qi}}}),Xi="DealMainSuccess_formCard_1691720646605 DealMainSuccess_formCard_1691720646606",Yi="DealMainSuccess_label_1691720646606",Zi="DealMainSuccess_required_1691720646606",Hi="DealMainSuccess_doc_1691720646606",Gi="DealMainSuccess_docUploaded_1691720646606",Wi={formCard:Xi,label:Yi,required:Zi,doc:Hi,docUploaded:Gi},Ji={class:"grid mb-4"},Qi={class:"col-4"},e4={class:"info flex flex-column gap-2"},s4={class:""},t4={class:""},o4={class:"col-4"},l4={class:"flex justify-content-between"},u4={class:"info flex flex-column gap-2"},n4={class:""},i4=e("i",{class:"text-red-500"},"*",-1),a4={class:"flex justify-content-between align-items-center"},c4=e("i",{class:"pi pi-file"},null,-1),d4={class:"text-overflow-ellipsis"},r4={class:"text-xs"},p4={class:"col-4"},f4={class:"flex justify-content-between"},v4={class:"info flex flex-column gap-2"},m4={class:""},h4=e("i",{class:"text-red-500"},"*",-1),_4={class:"flex justify-content-between align-items-center"},g4=e("i",{class:"pi pi-file"},null,-1),w4={class:"text-overflow-ellipsis"},b4={class:"text-xs"},$4={class:"col-4"},y4={class:"flex justify-content-between"},D4={class:"info flex flex-column gap-2"},C4={class:""},E4=e("i",{class:"text-red-500"},"*",-1),O4={class:""},j4=e("div",{class:"flex justify-content-end align-items-center"},null,-1),k4={class:"col-4"},B4={class:"flex justify-content-between"},F4={class:"info flex flex-column gap-2"},I4={class:""},S4=e("i",{class:"text-red-500"},"*",-1),A4={class:""},M4=e("div",{class:"flex justify-content-end align-items-center"},[B(` <Button
                icon="pi pi-arrow-right"
                class="p-button-sm p-button-outlined"
              /> `)],-1),L4={class:"col-4"},U4={class:"flex justify-content-between"},x4={class:"info flex flex-column gap-2"},z4={class:""},V4=e("i",{class:"text-red-500"},"*",-1),N4={class:""},R4=e("div",{class:"flex justify-content-end align-items-center"},null,-1),P4={class:"col-4"},T4={class:"flex justify-content-between"},q4={class:"info flex flex-column gap-2"},K4={class:""},X4=e("i",{class:"text-red-500"},"*",-1),Y4={class:""},Z4={class:"flex justify-content-between align-items-center"},H4={class:"text-sm text-red-500"},G4=e("div",{class:"bg-green-100 border-1 border-round-md border-solid border-green-500 text-xl text-center py-5"},"Оплата произведена",-1);function W4(s,u,v,m,h,f){const a=y("Card");return E(),O(N,null,[e("div",Ji,[e("div",Qi,[o(a,{class:t(["h-full card-footer-bottom",s.dealOverview.recommended_cost.complete?"bg-green-50":"bg-orange-50"])},{content:l(()=>[e("div",{class:t(["flex justify-content-between",{"bg-green-50":s.dealOverview.recommended_cost.complete}])},[e("div",e4,[e("div",s4,[e("p",{class:t(s.$style.label)},"Рекомендуемая стоимость",2),e("p",t4,n(s.currencyFormat(s.dealOverview.recommended_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.recommended_cost.complete&&"text-green-500"])},null,2)],2)]),_:1},8,["class"])]),e("div",o4,[o(a,{class:t({"bg-green-50":s.dealOverview.dkp.complete})},{content:l(()=>[e("div",l4,[e("div",u4,[e("div",n4,[e("p",{class:t(s.$style.label)},[_(" Договор купли-продажи ТС "),i4],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.dkp.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",a4,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[c4,e("div",null,[e("p",d4,n(s.dealOverview.dkp.value||"Договор не сформирован"),1),e("p",r4," Дата подписания: "+n(s.dealOverview.dkp.date?s.dealOverview.dkp.date:"не подписан"),1)])],2)])]),_:1},8,["class"])]),e("div",p4,[o(a,{class:t({"bg-green-50":s.dealOverview.acceptance.complete})},{content:l(()=>[e("div",f4,[e("div",v4,[e("div",m4,[e("p",{class:t(s.$style.label)},[_(" Соглашение ТС "),h4],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.acceptance.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",_4,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[g4,e("div",null,[e("p",w4,n(s.dealOverview.acceptance.value||"Договор не сформирован"),1),e("p",b4," Дата подписания: "+n(s.dealOverview.acceptance.date?s.dealOverview.acceptance.date:"не подписан"),1)])],2)])]),_:1},8,["class"])]),e("div",$4,[o(a,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.seller_account.complete}])},{content:l(()=>[e("div",y4,[e("div",D4,[e("div",C4,[e("p",{class:t(s.$style.label)},[_(" Реквизиты получателя "),E4],2),e("p",O4,n(s.dealOverview.seller_account.account),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.seller_account.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[j4]),_:1},8,["class"])]),e("div",k4,[o(a,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.keys_passed.complete}])},{content:l(()=>[e("div",B4,[e("div",F4,[e("div",I4,[e("p",{class:t(s.$style.label)},[_(" Ключи переданы "),S4],2),e("p",A4,n(s.dealOverview.keys_passed.value?"Да":"Нет"),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.keys_passed.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[M4]),_:1},8,["class"])]),e("div",L4,[o(a,{class:t(["h-full card-footer-bottom",{"bg-green-50":s.dealOverview.docs_passed.complete}])},{content:l(()=>[e("div",U4,[e("div",x4,[e("div",z4,[e("p",{class:t(s.$style.label)},[_(" Документы переданы "),V4],2),e("p",N4,n(s.dealOverview.docs_passed.value?"Да":"Нет"),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.docs_passed.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[R4]),_:1},8,["class"])]),e("div",P4,[o(a,{class:t(["h-full card-footer-bottom",s.dealOverview.balance.complete?"bg-green-50":"border-red-500"])},{content:l(()=>[e("div",T4,[e("div",q4,[e("div",K4,[e("p",{class:t(s.$style.label)},[_(" Баланс резервного счета "),X4],2),e("p",Y4,n(s.dealOverview.balance.value),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.balance.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Z4,[e("p",H4,n(s.dealOverview.balance.complete?"":`* С учетом комиссии на счету должно быть минимум ${s.currencyFormat(s.dealOverview.balance.required)}`),1)])]),_:1},8,["class"])])]),G4],64)}const J4={$style:Wi},Q4=I(Ki,[["render",W4],["__cssModules",J4],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainSuccess.vue"]]),ea="Данные отсутствуют",sa=new Map([["bank","Банк"]]),ta=U({components:{Card:z,Button:M,InputSwitch:pe,CancelDeal:le,EnterCodeDeal:ue},props:{dealOverview:Object},setup(){const s=S(),{principalState:u}=X(),v=s.params.projectID,m=s.params.dealID,h=k(()=>m==="create"),f=C(null),a=C(!1),w=C(!1),g=C(!1),i=T({}),c=C(null);q(async()=>{const p=await K(m);c.value=p.owner.phone});const d=k(()=>u.deal?{dkp:u.deal.data.dkp.dkp_photos.map(({original_url:p})=>p),acceptance:u.deal.data.acceptance.acceptance_photos.map(({original_url:p})=>p)}:{dkp:[],acceptance:[]});return{isCreating:h,projectID:v,dealID:m,dataEmpty:ea,getFileName:p=>{if(p)return p.split("/").reverse()[0]},currencyFormat:x,isSaving:a,paymentMethod:sa,errors:i,isShowConfirmChief:g,isShowCancel:w,principalState:u,postKeysPassed:de,postDocsPassed:re,phoneOwner:c,postPaymentConfirm:Ee,imgsShow:f,imgsPack:d}}}),oa="DealMainConfirmation_formCard_1691720646611",la="DealMainConfirmation_label_1691720646611",ua="DealMainConfirmation_required_1691720646611",na="DealMainConfirmation_doc_1691720646611",ia="DealMainConfirmation_docUploaded_1691720646611",aa={formCard:oa,label:la,required:ua,doc:na,docUploaded:ia},ca=e("div",{class:"border-round-md surface-50 border-red-500 border-dashed border-1 p-4 mb-4"},[e("h3",{class:"text-red-500"},"Внимание!"),e("p",null," Сделка требует вашей верификации ")],-1),da={key:0,class:""},ra={class:"grid"},pa={class:"col-4"},fa={class:"flex justify-content-between"},va={class:"info flex flex-column gap-2"},ma={class:""},ha=e("i",{class:"text-red-500"},"*",-1),_a={class:""},ga={class:""},wa={class:""},ba={class:"flex justify-content-between align-items-center"},$a={class:"text-sm"},ya={class:"col-4"},Da={class:"flex justify-content-between"},Ca={class:"info flex flex-column gap-2"},Ea={class:""},Oa=e("i",{class:"text-red-500"},"*",-1),ja={class:""},ka={class:""},Ba={class:""},Fa={class:"flex justify-content-between align-items-center"},Ia={class:"text-sm"},Sa={class:"col-4"},Aa={class:"flex justify-content-between"},Ma={class:"info flex flex-column gap-2"},La={class:""},Ua=e("i",{class:"text-red-500"},"*",-1),xa={class:""},za={class:""},Va={class:""},Na={class:"flex justify-content-between align-items-center"},Ra={class:"text-sm"},Pa={class:"col-4"},Ta={class:"flex justify-content-between"},qa={class:"info flex flex-column gap-2"},Ka={class:""},Xa=e("i",{class:"text-red-500"},"*",-1),Ya={class:"flex justify-content-between align-items-center"},Za={class:"text-sm"},Ha={class:"col-4"},Ga={class:"flex justify-content-between"},Wa={class:"info flex flex-column gap-2"},Ja={class:""},Qa=e("i",{class:"text-red-500"},"*",-1),e0={class:"flex justify-content-between align-items-center"},s0={class:"text-sm"},t0={class:"col-4"},o0={class:"flex justify-content-between"},l0={class:"info flex flex-column gap-2"},u0={class:""},n0=e("i",{class:"text-red-500"},"*",-1),i0={class:""},a0={class:"flex justify-content-end align-items-center"},c0={class:"col-4"},d0={class:"flex justify-content-between"},r0={class:"info flex flex-column gap-2"},p0={class:""},f0=e("i",{class:"text-red-500"},"*",-1),v0={class:""},m0={class:"flex justify-content-end align-items-center"},h0={class:"col-4"},_0={class:"flex justify-content-between"},g0={class:"info flex flex-column gap-2"},w0={class:""},b0={class:""},$0={class:"flex justify-content-end align-items-center"},y0={class:"col-4"},D0={class:"flex justify-content-between"},C0={class:"info flex flex-column gap-2"},E0={class:""},O0={class:""},j0={class:"flex justify-content-end align-items-center"},k0={class:"flex justify-content-between"},B0={class:"info flex flex-column gap-2"},F0={class:""},I0={class:"flex justify-content-between align-items-center"},S0=e("i",{class:"pi pi-file"},null,-1),A0={class:"grid mb-4"},M0={class:"col-4"},L0={class:"flex justify-content-between"},U0={class:"info flex flex-column gap-2"},x0={class:""},z0={class:""},V0={class:"col-4"},N0={class:"flex justify-content-between"},R0={class:"info flex flex-column gap-2"},P0={class:""},T0={class:""},q0={class:"col-4"},K0={class:"flex justify-content-between"},X0={class:"info flex flex-column gap-2"},Y0={class:""},Z0=e("i",{class:"text-red-500"},"*",-1),H0={class:""},G0={class:"flex justify-content-end align-items-center"},W0={class:"col-4"},J0={class:"flex justify-content-between"},Q0={class:"info flex flex-column gap-2"},ec={class:""},sc=e("i",{class:"text-red-500"},"*",-1),tc={class:""},oc={class:"flex justify-content-end align-items-center"},lc={class:"col-4"},uc={class:"flex justify-content-between"},nc={class:"info flex flex-column gap-2"},ic={class:""},ac=e("i",{class:"text-red-500"},"*",-1),cc={class:""},dc=e("div",{class:"flex justify-content-end align-items-center"},[B(` <Button
                    icon="pi pi-arrow-right"
                    class="p-button-sm p-button-outlined"
                  /> `)],-1),rc={class:"col-4"},pc={class:"flex justify-content-between"},fc={class:"info flex flex-column gap-2"},vc={class:""},mc=e("i",{class:"text-red-500"},"*",-1),hc={class:""},_c={class:"flex justify-content-end align-items-center"},gc={class:"grid mb-4"},wc={class:"col-4"},bc={class:"flex justify-content-between"},$c={class:"info flex flex-column gap-2"},yc={class:""},Dc={class:""},Cc={class:"col-4"},Ec={class:"flex justify-content-between"},Oc={class:"info flex flex-column gap-2"},jc={class:""},kc=e("i",{class:"text-red-500"},"*",-1),Bc=e("p",{class:""}," Средства на счете успешно зарезервированы ",-1),Fc={class:"col-4"},Ic={class:"flex justify-content-between"},Sc={class:"info flex flex-column gap-2"},Ac={class:""},Mc=e("i",{class:"text-red-500"},"*",-1),Lc={class:"flex justify-content-between align-items-center"},Uc=e("i",{class:"pi pi-file"},null,-1),xc={class:"text-overflow-ellipsis"},zc={class:"text-xs"},Vc={class:"col-4"},Nc={class:"flex justify-content-between"},Rc={class:"info flex flex-column gap-2"},Pc={class:""},Tc=e("i",{class:"text-red-500"},"*",-1),qc={class:"flex justify-content-between align-items-center"},Kc=e("i",{class:"pi pi-file"},null,-1),Xc={class:"text-overflow-ellipsis"},Yc={class:"text-xs"},Zc={class:"col-4"},Hc={class:"flex justify-content-between"},Gc={class:"info flex flex-column gap-2"},Wc={class:""},Jc=e("i",{class:"text-red-500"},"*",-1),Qc={class:"flex mt-2"},ed=e("p",{class:"ml-3"},"Документы переданы ",-1),sd={class:"col-4"},td={class:"flex justify-content-between"},od={class:"info flex flex-column gap-2"},ld={class:""},ud=e("i",{class:"text-red-500"},"*",-1),nd={class:"flex mt-2"},id=e("p",{class:"ml-3"},"Ключи переданы ",-1),ad={class:"flex gap-2 justify-content-between"};function cd(s,u,v,m,h,f){var p,b,$,D,V,L,R;const a=y("CancelDeal"),w=y("vue-easy-lightbox"),g=y("EnterCodeDeal"),i=y("Button"),c=y("Card"),d=y("router-link"),r=y("InputSwitch");return E(),O(N,null,[o(a,{isShowConfirm:s.isShowCancel,callback:()=>s.isShowCancel=!1},null,8,["isShowConfirm","callback"]),o(w,{visible:!!s.imgsShow,imgs:s.imgsPack[s.imgsShow],index:0,onHide:u[0]||(u[0]=j=>s.imgsShow=null)},null,8,["visible","imgs"]),o(g,{isShowConfirm:s.isShowConfirmChief,close:()=>s.isShowConfirmChief=!1,phone:(p=s.principalState.user)==null?void 0:p.phone,confirm:s.postPaymentConfirm,title:"Подтвердите оплату"},null,8,["isShowConfirm","close","phone","confirm"]),ca,s.principalState.user.roles.includes("owner")?(E(),O("div",da,[e("div",ra,[e("div",pa,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/ts`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",fa,[e("div",va,[e("div",ma,[e("p",{class:t(s.$style.label)},[_(" Транспортное средство "),ha],2),e("p",_a,n(s.dealOverview.car.name),1)]),e("div",ga,[e("p",{class:t(s.$style.label)},"VIN",2),e("p",wa,n(s.dealOverview.car.vin),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.car.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",ba,[e("p",$a,n(s.dealOverview.car.fields_filled)+" из "+n(s.dealOverview.car.fields_total),1),o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",ya,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/owner-ts`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Da,[e("div",Ca,[e("div",Ea,[e("p",{class:t(s.$style.label)},[_(" Владелец ТС "),Oa],2),e("p",ja,n(s.dealOverview.owner.name),1)]),e("div",ka,[e("p",{class:t(s.$style.label)},"Контактный телефон",2),e("p",Ba,n(s.dealOverview.owner.phone),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.owner.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Fa,[e("p",Ia,n(s.dealOverview.owner.fields_filled)+" из "+n(s.dealOverview.owner.fields_total),1),o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",Sa,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/signatory`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Aa,[e("div",Ma,[e("div",La,[e("p",{class:t(s.$style.label)},[_(" Подписант "),Ua],2),e("p",xa,n(s.dealOverview.signer.name),1)]),e("div",za,[e("p",{class:t(s.$style.label)},"Контактный телефон",2),e("p",Va,n(s.dealOverview.signer.phone),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.signer.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Na,[e("p",Ra,n(s.dealOverview.signer.fields_filled)+" из "+n(s.dealOverview.signer.fields_total),1),o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",Pa,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/docs`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Ta,[e("div",qa,[e("div",Ka,[e("p",{class:t(s.$style.label)},[_(" Документы "),Xa],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.docs.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Ya,[e("p",Za,n(s.dealOverview.docs.fields_filled)+" из "+n(s.dealOverview.docs.fields_total),1),o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",Ha,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/photos`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",Ga,[e("div",Wa,[e("div",Ja,[e("p",{class:t(s.$style.label)},[_(" Фотографии ТС "),Qa],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.photos.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",e0,[e("p",s0,n(s.dealOverview.photos.fields_filled)+" из "+n(s.dealOverview.photos.fields_total),1),o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",t0,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/date-and-time`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",o0,[e("div",l0,[e("div",u0,[e("p",{class:t(s.$style.label)},[_(" Дата и время сделки ТС "),n0],2),e("p",i0,n(s.dealOverview.inspection_date_time.date)+" "+n(s.dealOverview.inspection_date_time.time),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.inspection_date_time.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",a0,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",c0,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/place-of-transaction`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",d0,[e("div",r0,[e("div",p0,[e("p",{class:t(s.$style.label)},[_(" Место сделки ТС "),f0],2),e("p",v0,n(s.dealOverview.inspection_address.value),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.inspection_address.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",m0,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",h0,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/declared-cost`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",_0,[e("div",g0,[e("div",w0,[e("p",{class:t(s.$style.label)},"Желаемая стоимость ТС",2),e("p",b0,n(s.currencyFormat(s.dealOverview.declared_cost_field)),1)])])])]),footer:l(()=>[e("div",$0,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",y0,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/comment`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",D0,[e("div",C0,[e("div",E0,[e("p",{class:t(s.$style.label)},"Комментарии по сделке",2),e("p",O0,n(s.dealOverview.comment),1)])])])]),footer:l(()=>[e("div",j0,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])])]),o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/agrement`},{default:l(()=>[o(c,{class:"mb-4 mt-2"},{content:l(()=>[e("div",k0,[e("div",B0,[e("div",F0,[e("p",{class:t(s.$style.label)}," Согласие на обработку и хранение персональных данных ",2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.agreement.complete&&"text-green-500"])},null,2)])]),footer:l(()=>{var j,P;return[e("div",I0,[e("p",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"text-overflow-ellipsis"])},[S0,_(" "+n(s.getFileName((P=(j=s.dealOverview.agreement)==null?void 0:j.value)==null?void 0:P.original_url)||s.dataEmpty),1)],2),o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]}),_:1})]),_:1},8,["to"]),e("div",A0,[e("div",M0,[o(c,{class:"h-full card-footer-bottom bg-green-50"},{content:l(()=>[e("div",L0,[e("div",U0,[e("div",x0,[e("p",{class:t(s.$style.label)},"Решение руководства",2),e("p",z0,n(s.dealOverview.decision.value),1)])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),_:1})]),e("div",V0,[o(c,{class:t(["h-full card-footer-bottom",s.dealOverview.recommended_cost.complete?"bg-green-50":"bg-orange-50"])},{content:l(()=>[e("div",N0,[e("div",R0,[e("div",P0,[e("p",{class:t(s.$style.label)},"Рекомендуемая стоимость",2),e("p",T0,n(s.currencyFormat(s.dealOverview.recommended_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.recommended_cost.complete&&"text-green-500"])},null,2)])]),_:1},8,["class"])]),e("div",q0,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/declared-cost`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",K0,[e("div",X0,[e("div",Y0,[e("p",{class:t(s.$style.label)},[_(" Согласованная стоимость "),Z0],2),e("p",H0,n(s.currencyFormat(s.dealOverview.declared_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.declared_cost.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",G0,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",W0,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/seller-account`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",J0,[e("div",Q0,[e("div",ec,[e("p",{class:t(s.$style.label)},[_(" Реквизиты получателя "),sc],2),e("p",tc,n(s.dealOverview.seller_account.account),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.seller_account.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",oc,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])]),e("div",lc,[o(d,{to:"#",class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",uc,[e("div",nc,[e("div",ic,[e("p",{class:t(s.$style.label)},[_(" Способ оплаты "),ac],2),e("p",cc,n(s.paymentMethod.get(s.dealOverview.pay_method.value)||s.dataEmpty),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.pay_method.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[dc]),_:1})]),_:1})]),e("div",rc,[o(d,{to:`/projects/${s.projectID}/deals/${s.dealID}/cost`,class:"h-full"},{default:l(()=>[o(c,{class:"h-full card-footer-bottom"},{content:l(()=>[e("div",pc,[e("div",fc,[e("div",vc,[e("p",{class:t(s.$style.label)},[_(" Стоимость в договоре "),mc],2),e("p",hc,n(s.currencyFormat(s.dealOverview.deal_cost.value||0)),1)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.deal_cost.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",_c,[o(i,{icon:"pi pi-arrow-right",class:"p-button-sm p-button-outlined"})])]),_:1})]),_:1},8,["to"])])])])):B("v-if",!0),e("div",gc,[e("div",wc,[o(c,{class:t(["h-full card-footer-bottom","bg-green-50"])},{content:l(()=>[e("div",bc,[e("div",$c,[e("div",yc,[e("p",{class:t(s.$style.label)},"Согласованная стоимость",2),e("p",Dc,n(s.currencyFormat(s.dealOverview.recommended_cost.value)),1)])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),_:1})]),e("div",Cc,[o(c,{class:t(["h-full card-footer-bottom","bg-green-50"])},{content:l(()=>[e("div",Ec,[e("div",Oc,[e("div",jc,[e("p",{class:t(s.$style.label)},[_(" Баланс резервного счета "),kc],2),_(" "+n(s.dealOverview.balance.required)+" ",1),Bc])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),_:1})]),e("div",Fc,[o(c,{onClick:u[1]||(u[1]=j=>s.imgsShow="dkp"),class:t({"bg-green-50":s.dealOverview.dkp.complete})},{content:l(()=>[e("div",Ic,[e("div",Sc,[e("div",Ac,[e("p",{class:t(s.$style.label)},[_(" Договор купли-продажи ТС "),Mc],2)])]),e("i",{class:t(["pi pi-check-circle",s.dealOverview.dkp.complete&&"text-green-500"])},null,2)])]),footer:l(()=>[e("div",Lc,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[Uc,e("div",null,[e("p",xc,n(s.dealOverview.dkp.value?`Договор №: ${s.dealOverview.dkp.value}`:"Договор не сформирован"),1),e("p",zc," Дата подписания: "+n(s.dealOverview.dkp.date?s.dealOverview.dkp.date:"не подписан"),1)])],2)])]),_:1},8,["class"])]),e("div",Vc,[o(c,{class:t(["h-full card-footer-bottom",{"bg-green-50":($=(b=s.dealOverview)==null?void 0:b.acceptance)==null?void 0:$.value}]),onClick:u[2]||(u[2]=j=>s.imgsShow="acceptance")},{content:l(()=>[e("div",Nc,[e("div",Rc,[e("div",Pc,[e("p",{class:t(s.$style.label)},[_(" Акт приема передачи "),Tc],2)])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),footer:l(()=>[e("div",qc,[e("div",{class:t([[s.$style.doc,s.dealOverview&&s.$style.docUploaded],"flex gap-2 align-items-center"])},[Kc,e("div",null,[e("p",Xc,n(`Акт №: ${s.dealOverview.acceptance.value}`),1),e("p",Yc," Дата подписания: "+n(s.dealOverview.acceptance.date),1)])],2)])]),_:1},8,["class"])]),e("div",Zc,[o(c,{class:t(["h-full card-footer-bottom",{"bg-green-50":(V=(D=s.dealOverview)==null?void 0:D.docs_passed)==null?void 0:V.value}])},{content:l(()=>[e("div",Hc,[e("div",Gc,[e("div",Wc,[e("p",{class:t(s.$style.label)},[_("Передача оригиналов ПТС и СТС "),Jc],2),e("div",Qc,[o(r,{modelValue:s.dealOverview.docs_passed.value,"onUpdate:modelValue":u[3]||(u[3]=j=>s.dealOverview.docs_passed.value=j),onInput:u[4]||(u[4]=j=>s.postDocsPassed(s.dealID,j)),disabled:""},null,8,["modelValue"]),ed])])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),_:1},8,["class"])]),e("div",sd,[o(c,{class:t(["h-full card-footer-bottom",{"bg-green-50":(R=(L=s.dealOverview)==null?void 0:L.keys_passed)==null?void 0:R.value}])},{content:l(()=>[e("div",td,[e("div",od,[e("div",ld,[e("p",{class:t(s.$style.label)},[_("Передача 2-х комплектов ключей "),ud],2),e("div",nd,[o(r,{modelValue:s.dealOverview.keys_passed.value,"onUpdate:modelValue":u[5]||(u[5]=j=>s.dealOverview.keys_passed.value=j),onInput:u[6]||(u[6]=j=>s.postKeysPassed(s.dealID,j)),disabled:""},null,8,["modelValue"]),id])])]),e("i",{class:t(["pi pi-check-circle","text-green-500"])})])]),_:1},8,["class"])])]),e("div",ad,[o(i,{type:"submit",label:"Верифицировать",onClick:u[7]||(u[7]=j=>s.isShowConfirmChief=!0),loading:s.isSaving},null,8,["loading"]),o(i,{type:"submit",class:"ml-auto",label:"Отменить сделку",loading:s.isSaving,severity:"danger",onClick:u[8]||(u[8]=j=>s.isShowCancel=!0)},null,8,["loading"])])],64)}const dd={$style:aa},rd=I(ta,[["render",cd],["__cssModules",dd],["__file","/var/www/inflow-auto-front-main/src/views/deals/modules/DealMainConfirmation.vue"]]),pd={car:{name:null,vin:null,fields_filled:0,fields_total:0,complete:!1},owner:{name:null,phone:null,fields_filled:0,fields_total:0,complete:!1},signer:{name:null,phone:null,fields_filled:0,fields_total:0,complete:!1},docs:{fields_filled:0,fields_total:4,complete:!1},photos:{fields_filled:0,fields_total:1,complete:!1},inspection_date_time:{date:null,time:null,complete:!1},inspection_address:{value:null,complete:!1},agreement:{value:null,date:null,complete:!1},declared_cost_field:null,comment:null},se=new Map([["draft",Zl],["negotiation",Pi],["success",Q4],["complete",_o],["canceled",pt],["begin",et],["confirmation",rd]]),fd=U({components:{Badge:me,ProgressSpinner:he},setup(){const s=S(),{principalState:u}=X(),v=s.params.dealID,m=C(!0),h=k(()=>s.params.dealID==="create"),f=k(()=>h.value?"Создание сделки":`Сделка № ${v}`),a=k(()=>{var g,i;return h.value||!((g=u.overview)!=null&&g.data)?se.get("draft"):se.get(((i=u.overview.data)==null?void 0:i.state)||"draft")}),w=()=>{Oe(v),K(v)};return q(async()=>{h.value||w()}),{isCreating:h,dealID:v,principalState:u,isLoading:m,currencyFormat:x,step:a,title:f,defaultDataOverview:pd}}}),vd="DealMain_loader_1691720646539",md="DealMain_formCard_1691720646539 DealMain_formCard_1691720646540",hd={loader:vd,formCard:md},_d={class:"flex mb-4 justify-content-between"},gd={class:"flex align-items-center"};function wd(s,u,v,m,h,f){var w,g;const a=y("ProgressSpinner");return!s.isCreating&&(!s.principalState.overview||(w=s.principalState.overview)!=null&&w.isLoading)?(E(),O("div",{key:0,class:t([s.$style.loader,"p-4"])},[o(a,{strokeWidth:"1",animationDuration:".5s"})],2)):(E(),O("div",{key:1,class:t(["p-4",s.$style.formCard])},[e("div",_d,[e("h2",gd,n(s.title),1)]),(E(),Z(_e(s.step),{dealOverview:s.isCreating?s.defaultDataOverview:((g=s.principalState.overview)==null?void 0:g.data)||s.defaultDataOverview},null,8,["dealOverview"]))],2))}const bd={$style:hd},Xd=I(fd,[["render",wd],["__cssModules",bd],["__file","/var/www/inflow-auto-front-main/src/views/deals/DealMain.vue"]]);export{Xd as default};
