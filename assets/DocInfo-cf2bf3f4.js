import{a as f,b as k,w as C,_ as $,m as I,s as x,g as r,h as e,t as g,j as o,F,u as w,q as j,c as B,f as d,y as b}from"./_plugin-vue_export-helper-4e0f1051.js";const R={props:{title:String,photos:{type:Array,required:!0},setPreloadFile:{type:Function,required:!0},returnIDForDeletion:{type:Function,required:!0},multiple:Boolean,maxFiles:Number},setup(s){const c=f(!1),n=f(0),l=i=>{n.value=i,c.value=!0},y=()=>c.value=!1,a=f([]),h=k(()=>s.photos.map(({original_url:_})=>_));C(s,()=>{a.value=[],s.setPreloadFile([])});const m=i=>{if(i.target){const G=[...i.target.files||[]].map(v=>{const D=new Blob([v],{type:v.type}),N=URL.createObjectURL(D);return{file:v,urlBlob:N}});a.value.push(...G),p()}},t=i=>{a.value=a.value.filter(({urlBlob:_})=>_!==i),p()},u=i=>{if(i)return i.split("/").reverse()[0]},p=()=>{const i=a.value.map(({file:_})=>_);s.setPreloadFile(i)};return{handleUploadFile:m,preloadedFiles:a,removeLocalFile:t,visibleRef:c,indexRef:n,imgs:h,showImg:l,onHide:y,getFileName:u}}},L="FileGroup_core_1691720646718",M="FileGroup_title_1691720646718",U="FileGroup_photo_1691720646718 FileGroup_photo_1691720646719",q="FileGroup_cover_1691720646719",H="FileGroup_trash_1691720646719",P="FileGroup_add_1691720646719",V="FileGroup_input_1691720646719",S="FileGroup_icon_1691720646719",z="FileGroup_footer_1691720646719",A="FileGroup_fileName_1691720646719",E={core:L,title:M,photo:U,cover:q,trash:H,add:P,input:V,icon:S,footer:z,fileName:A},O={class:"grid mt-3"},J=["onClick"],K=["src"],Q=["onClick"],T=e("i",{class:"pi pi-trash"},null,-1),W=[T],X=["src"],Y=["onClick"],Z=e("i",{class:"pi pi-trash"},null,-1),ee=[Z],se={key:0,class:"col-6 md:col-4 lg:col-2"},oe=["multiple"],le=e("svg",{viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("rect",{x:"0",y:"0",width:"150",height:"150",rx:"0",ry:"0"})],-1);function te(s,c,n,l,y,a){const h=I("vue-easy-lightbox"),m=x("tooltip");return d(),r("div",{class:o(s.$style.core)},[e("p",{class:o(s.$style.title)},[e("span",null,g(n.title),1)],2),e("div",O,[(d(!0),r(F,null,w(n.photos,(t,u)=>b((d(),r("div",{class:"col-6 md:col-4 lg:col-2",key:t.id,onClick:()=>l.showImg(u)},[e("div",{class:o(s.$style.photo)},[e("img",{src:t.preview_url||t.original_url,alt:""},null,8,K),e("div",{class:o([s.$style.footer,"flex justify-content-between align-items-center gap-2"])},[e("p",{class:o([s.$style.fileName,"text-xs"])},g(l.getFileName(t.original_url)),3),e("button",{class:o([s.$style.cover,s.$style.trash]),onClick:p=>{p.stopPropagation(),n.returnIDForDeletion(t.uuid)}},W,10,Q)],2)],2)],8,J)),[[m,l.getFileName(t.original_url),void 0,{top:!0}]])),128)),(d(!0),r(F,null,w(l.preloadedFiles,({urlBlob:t,file:u})=>b((d(),r("div",{class:"col-6 md:col-4 lg:col-2",key:t},[e("div",{class:o(s.$style.photo)},[e("img",{src:t,alt:"",class:"opacity-50"},null,8,X),e("div",{class:o([s.$style.footer,"flex justify-content-between align-items-center gap-2"])},[e("p",{class:o([s.$style.fileName,"text-xs"])},g(u.name),3),e("button",{class:o([s.$style.cover,s.$style.trash]),onClick:()=>l.removeLocalFile(t)},ee,10,Y)],2)],2)])),[[m,u.name,void 0,{top:!0}]])),128)),!n.maxFiles||n.maxFiles<n.photos.length||n.maxFiles<l.preloadedFiles.length?(d(),r("div",se,[e("label",{class:o([s.$style.photo,s.$style.add])},[e("input",{type:"file",class:o(s.$style.input),multiple:n.multiple,onChange:c[0]||(c[0]=(...t)=>l.handleUploadFile&&l.handleUploadFile(...t)),accept:"image/jpeg, image/png"},null,42,oe),le,e("i",{class:o(["pi pi-plus-circle",s.$style.icon])},null,2)],2)])):j("v-if",!0)]),B(h,{visible:l.visibleRef,imgs:l.imgs,index:l.indexRef,onHide:l.onHide},null,8,["visible","imgs","index","onHide"])],2)}const ie={$style:E},Fe=$(R,[["render",te],["__cssModules",ie],["__file","/var/www/inflow-auto-front-main/src/shared/components/FileGroup.vue"]]),ne="DocInfo_core_1691720646672",ce="DocInfo_list_1691720646672",ae={core:ne,list:ce},re={},de={class:"grid p-3"},ue=e("div",{class:"col-12 md:col-6"},[e("h3",{class:"text-blue-500"},"Важно обратить внимание!"),e("p",null," При подготовке фотографий обязательно обратите внимание на следующие требования: ")],-1),_e={class:"col-12 md:col-6"},me=e("li",null,"Каждое фото не менее чем 800*800 px;",-1),pe=e("li",null,"каждое фото не более 5 Mb;",-1),he=e("li",null,"допустимые форматы jpg или png",-1),ve=[me,pe,he];function fe(s,c){return d(),r("div",{class:o(s.$style.core)},[e("div",de,[ue,e("div",_e,[e("ul",{class:o(["text-red-500",s.$style.list])},ve,2)])])],2)}const ge={$style:ae},we=$(re,[["render",fe],["__cssModules",ge],["__file","/var/www/inflow-auto-front-main/src/views/deals/components/DocInfo.vue"]]);export{we as D,Fe as F};
