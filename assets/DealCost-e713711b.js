import{s as f}from"./card.esm-90d7995a.js";import{b as E,a as p,o as C,_ as h,m as n,x,p as d,f as w,c as m,B as v,h as B}from"./_plugin-vue_export-helper-4e0f1051.js";import{u as D}from"./vue-router-e112b3e0.js";import{F as b}from"./FormInput-a7191b54.js";import{a as y,y as I}from"./principalDeals-5bcfc342.js";import{u as S}from"./Api-3d31057e.js";import{T as V,W as R}from"./Wrap-35d78bea.js";import"./Cookies-c25692b0.js";import"./ripple.esm-2bb5fa45.js";import"./inputnumber.esm-b284c98e.js";import"./button.esm-48574c78.js";import"./FormItem-83c2c2c1.js";import"./index.es-55ebbfbf.js";import"./runtime-dom.esm-bundler-b3385430.js";import"./dayjs.min-18f6db6c.js";import"./DateTime-6dd15e58.js";import"./progressspinner.esm-2138ab26.js";import"./index-72d7336d.js";import"./FormLayout-5c19cd5a.js";const T={components:{FormInput:b,TitleBox:V,Card:f,Wrap:R},setup(){var r,s;const e=D(),{principalState:t}=S(),c=E(()=>e.params.dealID==="create"),o=p({deal_cost:"0"}),l=p({});return c.value?o.value.deal_cost="0":((r=t.deal)==null?void 0:r.data.id)!==Number(e.params.dealID)?C(async()=>{var u;const a=await y(e.params.dealID);a!=null&&a.deal_cost&&(o.value.deal_cost=(u=a.deal_cost)==null?void 0:u.toString())}):o.value.deal_cost=(s=t.deal.data.deal_cost)==null?void 0:s.toString(),{data:o,errors:l,postDealCost:I,handleError:async a=>{l.value=a},isCreate:c,route:e}}},U=B("i",{class:"text-red-500"},"*",-1);function F(e,t,c,o,l,i){const r=n("TitleBox"),s=n("FormInput"),a=n("Card"),u=n("Wrap");return w(),x(u,{class:"p-4",data:o.data,apiMethod:o.postDealCost,onUpdateError:o.handleError},{default:d(()=>[m(r,{nameSection:"Стоимость в договоре"}),m(a,{class:"mb-5 mt-5"},{content:d(()=>[m(s,{type:"text",name:"deal_cost",modelValue:o.data.deal_cost,"onUpdate:modelValue":t[0]||(t[0]=_=>o.data.deal_cost=_),label:"Стоимость в договоре",showErrors:o.errors.isShow,errorResponse:o.errors.response,as:"number",numberProps:{currency:"RUB",locale:"ru-RU",mode:"currency"}},{default:d(()=>[v("Стоимость в договоре "),U]),_:1},8,["modelValue","showErrors","errorResponse"])]),_:1})]),_:1},8,["data","apiMethod","onUpdateError"])}const Z=h(T,[["render",F],["__file","/var/www/inflow-auto-front-main/src/views/deals/draft/DealCost.vue"]]);export{Z as default};
